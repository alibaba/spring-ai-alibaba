import{d as I,c as h,o as u,n as $,a as q,b as C,u as E,e as o,t as m,r as H,f as A,g as y,h as F,i as S,w as R,v as O,F as V,j,k as G,l as x}from"./index-dDtiMr4m.js";import{_ as K}from"./Java-AI-BYpq8IxI.js";import{I as N,_ as P}from"./_plugin-vue_export-helper-Bq2f-i5z.js";import{L as M}from"./index-BW8jhzcY.js";import{u as U,s as l}from"./sidebar-BlICHB_2.js";const W={key:1,class:"blur-card-content"},X=I({__name:"index",props:{content:{},wrapperStyle:{}},emits:["clickCard"],setup(T,{emit:p}){const i=T,c=p,d=()=>{console.log("[BlurCard] handleClick called with content:",i.content),c("clickCard",i.content),console.log("[BlurCard] clickCard event emitted")};return(t,w)=>{var g,b,v,_,k;return u(),h("button",{class:"blur-card",onClick:d,style:$(t.wrapperStyle)},[(g=t.content)!=null&&g.icon?(u(),q(E(N),{key:0,icon:t.content.icon,class:"blur-card-icon"},null,8,["icon"])):C("",!0),(b=t.content)!=null&&b.title||(v=t.content)!=null&&v.description?(u(),h("div",W,[o("h3",null,m((_=t.content)==null?void 0:_.title),1),o("p",null,m((k=t.content)==null?void 0:k.description),1)])):C("",!0)],4)}}}),z=P(X,[["__scopeId","data-v-48da0039"]]),Q={class:"home-page"},Y={class:"welcome-container"},Z={class:"header"},ee={class:"header-top"},te={class:"logo-container"},oe={class:"tagline"},ae={class:"main-content"},se={class:"conversation-container"},ne={class:"welcome-section"},le={class:"welcome-title"},ie={class:"welcome-subtitle"},ce={class:"input-section"},re={class:"input-container"},de=["placeholder"],me=["disabled"],pe={class:"examples-section"},ue={class:"examples-grid"},ge={class:"card-type"},he=I({__name:"index",setup(T){const p=G(),i=U(),c=H(""),d=H(),{t}=A(),w=()=>{const e=Date.now().toString();p.push({name:"direct",params:{id:e}}).then(()=>{console.log("[Home] jump to direct page"+t("common.success"))}).catch(a=>{console.error("[Home] jump to direct page"+t("common.error"),a)})},g=y(()=>[{title:t("home.examples.stockPrice.title"),type:"message",description:t("home.examples.stockPrice.description"),icon:"carbon:chart-line-data",prompt:t("home.examples.stockPrice.prompt")},{title:t("home.examples.weather.title"),type:"message",description:t("home.examples.weather.description"),icon:"carbon:partly-cloudy",prompt:t("home.examples.weather.prompt")}]),b=y(()=>[{title:t("home.examples.queryplan.title"),type:"plan-act",description:t("home.examples.queryplan.description"),icon:"carbon:plan",prompt:t("home.examples.queryplan.prompt"),planJson:{planType:"simple",title:"查询 沈询 阿里的所有信息（用于展示无限上下文能力，html页面是个超长文件，可以通过无限上下文解析）",steps:[{stepRequirement:"[BROWSER_AGENT] 通过 百度 查询 沈询 阿里 ， 获取第一页的html 百度数据，合并聚拢 到 html_data 的目录里",terminateColumns:"存放的目录路径"},{stepRequirement:"[BROWSER_AGENT] 从 html_data 目录中找到所有的有效关于沈询 阿里 的网页链接，输出到 link.md里面",terminateColumns:"url地址，说明"}],planId:"planTemplate-1749200517403"}},{title:t("home.examples.ainovel.title"),type:"plan-act",description:t("home.examples.ainovel.description"),icon:"carbon:document-tasks",prompt:t("home.examples.ainovel.prompt"),planJson:{planType:"simple",title:"人工智能逐步击败人类小说创作计划（用于展示超长内容输出，可以输出远超单次llmcall的内容）",steps:[{stepRequirement:"[TEXT_FILE_AGENT] 创建小说的大标题和子章节标题的文件,期望是一有10个子章节的的小说，提纲输出到novel.md里，每一个子章节用二级标题，在当前步骤只需要写章节的标题即可,小说的大标题是《人工智能逐步击败人类》",terminateColumns:"文件的名字"},{stepRequirement:"[TEXT_FILE_AGENT] 从novel.md文件获取子标题信息，然后依次完善每一个章节的具体内容，每个轮次只完善一个子章节的内容，用replace来更新内容，每个章节要求有3000字的内容，不要每更新一个章节就查询一下文档的全部内容",terminateColumns:"文件的名字"}],planId:"planTemplate-1753622676988"}}]),v=y(()=>[...g.value,...b.value]),_=e=>{console.log("[Home] handleCardClick called with item:",e),console.log("[Home] Item type:",e.type),e.type==="message"?(console.log("[Home] Calling selectExample for message type"),J(e)):e.type==="plan-act"?(console.log("[Home] Calling selectPlan for plan-act type"),L(e)):console.warn("[Home] Unknown item type:",e.type)};F(()=>{console.log("[Home] onMounted called"),console.log("[Home] taskStore:",i),console.log("[Home] examples:",g),i.markHomeVisited(),console.log("[Home] Home visited marked")});const k=async e=>{try{const a=e.planId||`planTemplate-${Date.now()}`,n={id:a,title:e.title||t("sidebar.newTemplateName"),description:t("sidebar.newTemplateDescription"),createTime:new Date().toISOString(),updateTime:new Date().toISOString()};l.selectedTemplate=n,l.currentPlanTemplateId=a,l.jsonContent=JSON.stringify(e);const s=await l.saveTemplate();s!=null&&s.duplicate?console.log("[Sidebar] "+t("sidebar.saveCompleted",{message:s.message,versionCount:s.versionCount})):s!=null&&s.saved?console.log("[Sidebar] "+t("sidebar.saveSuccess",{message:s.message,versionCount:s.versionCount})):s!=null&&s.message&&console.log("[Sidebar] "+t("sidebar.saveStatus",{message:s.message}))}catch(a){console.error("[Sidebar] Failed to save the plan to the template library:",a),alert(a.message||t("sidebar.saveFailed"))}},D=()=>{x(()=>{d.value&&(d.value.style.height="auto",d.value.style.height=Math.min(d.value.scrollHeight,200)+"px")})},B=e=>{console.log("[Home] handleKeydown called, key:",e.key),e.key==="Enter"&&!e.shiftKey&&(e.preventDefault(),console.log("[Home] Enter key pressed, calling handleSend"),f())},f=()=>{if(console.log("[Home] handleSend called, userInput:",c.value),!c.value.trim()){console.log("[Home] handleSend aborted - empty input");return}const e=c.value.trim();console.log("[Home] Setting task to store:",e),i.setTask(e),console.log("[Home] Task set to store, current task:",i.currentTask);const a=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",a),p.push({name:"direct",params:{id:a}}).then(()=>{console.log("[Home] Navigation to direct page completed")}).catch(n=>{console.error("[Home] Navigation error:",n)})},J=e=>{console.log("[Home] selectExample called with example:",e),console.log("[Home] Example prompt:",e.prompt),i.setTask(e.prompt),console.log("[Home] Task set to store from example, current task:",i.currentTask);const a=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",a),p.push({name:"direct",params:{id:a}}).then(()=>{console.log("[Home] Navigation to direct page completed (from example)")}).catch(n=>{console.error("[Home] Navigation error (from example):",n)})},L=async e=>{console.log("[Home] selectPlan called with plan:",e);try{await k(e.planJson),console.log("[Home] Plan saved to templates");const a=Date.now().toString();await p.push({name:"direct",params:{id:a}}),x(async()=>{await new Promise(r=>setTimeout(r,300)),l.isCollapsed?(await l.toggleSidebar(),console.log("[Sidebar] Sidebar toggled")):console.log("[Sidebar] Sidebar is already open"),await l.loadPlanTemplateList(),console.log("[Sidebar] Template list loaded"),console.log("[Sidebar] Available templates:",l.planTemplateList.map(r=>({id:r.id,title:r.title}))),console.log("[Sidebar] Looking for template with id:",e.planJson.planId);const n=l.planTemplateList.find(r=>r.id===e.planJson.planId);if(!n){console.error("[Sidebar] Template not found with id:",e.planJson.planId),console.error("[Sidebar] Available template IDs:",l.planTemplateList.map(r=>r.id));return}await l.selectTemplate(n),console.log("[Sidebar] Template selected:",n.title);const s=document.querySelector(".execute-btn");s.disabled?console.error("[Sidebar] Execute button not found or disabled"):(console.log("[Sidebar] Triggering execute button click"),s.click())})}catch(a){console.error("[Home] Error in selectPlan:",a)}};return(e,a)=>(u(),h("div",Q,[o("div",Y,[a[2]||(a[2]=o("div",{class:"background-effects"},[o("div",{class:"gradient-orb orb-1"}),o("div",{class:"gradient-orb orb-2"}),o("div",{class:"gradient-orb orb-3"})],-1)),o("header",Z,[o("div",ee,[S(M)]),o("div",te,[a[1]||(a[1]=o("div",{class:"logo"},[o("img",{src:K,alt:"JTaskPoilot",class:"java-logo"}),o("h1",null,"JTaskPoilot")],-1)),o("span",oe,m(e.$t("home.tagline")),1)])]),o("main",ae,[o("div",se,[o("div",ne,[o("h2",le,m(e.$t("home.welcomeTitle")),1),o("p",ie,m(e.$t("home.welcomeSubtitle")),1),o("button",{class:"direct-button",onClick:w},m(e.$t("home.directButton")),1)]),o("div",ce,[o("div",re,[R(o("textarea",{"onUpdate:modelValue":a[0]||(a[0]=n=>c.value=n),ref_key:"textareaRef",ref:d,class:"main-input",placeholder:e.$t("home.inputPlaceholder"),onKeydown:B,onInput:D},null,40,de),[[O,c.value]]),o("button",{class:"send-button",disabled:!c.value.trim(),onClick:f},[S(E(N),{icon:"carbon:send-alt"})],8,me)])]),o("div",pe,[o("div",ue,[(u(!0),h(V,null,j(v.value,n=>(u(),h("div",{key:n.title,class:"card-with-type"},[S(z,{content:n,onClickCard:s=>_(n)},null,8,["content","onClickCard"]),o("span",ge,m(n.type),1)]))),128))])])])])])]))}}),Se=P(he,[["__scopeId","data-v-55bb38ef"]]);export{Se as default};

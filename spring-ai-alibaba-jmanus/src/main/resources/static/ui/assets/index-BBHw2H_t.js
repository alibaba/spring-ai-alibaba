import{d as I,a as u,b as m,y as O,l as $,f as C,i as D,e as s,t as c,r as T,u as M,c as x,o as j,g as k,w as L,m as R,F as V,q as F,x as K,z as H}from"./index-D5D9bzxe.js";import{_ as z}from"./Java-AI-BYpq8IxI.js";import{I as q,_ as P}from"./_plugin-vue_export-helper-v7-Do0bo.js";import{L as U}from"./index-DPmrHTQh.js";import{u as A,s as r}from"./sidebar-CTH1WUAT.js";import"./llm-check-BVkAKrj3.js";const G={key:1,class:"blur-card-content"},Q=I({__name:"index",props:{content:{},wrapperStyle:{}},emits:["clickCard"],setup(_,{emit:p}){const n=_,l=p,i=()=>{console.log("[BlurCard] handleClick called with content:",n.content),l("clickCard",n.content),console.log("[BlurCard] clickCard event emitted")};return(e,w)=>{var d,h,g,v,b;return m(),u("button",{class:"blur-card",onClick:i,style:O(e.wrapperStyle)},[(d=e.content)!=null&&d.icon?(m(),$(D(q),{key:0,icon:e.content.icon,class:"blur-card-icon"},null,8,["icon"])):C("",!0),(h=e.content)!=null&&h.title||(g=e.content)!=null&&g.description?(m(),u("div",G,[s("h3",null,c((v=e.content)==null?void 0:v.title),1),s("p",null,c((b=e.content)==null?void 0:b.description),1)])):C("",!0)],4)}}}),W=P(Q,[["__scopeId","data-v-48da0039"]]),X={class:"home-page"},Y={class:"welcome-container"},Z={class:"header"},ee={class:"header-top"},te={class:"logo-container"},oe={class:"tagline"},se={class:"main-content"},ae={class:"conversation-container"},ne={class:"welcome-section"},le={class:"welcome-title"},re={class:"welcome-subtitle"},ie={class:"input-section"},ce={class:"input-container"},pe=["placeholder"],me=["disabled"],de={class:"examples-section"},ue={class:"examples-grid"},he={class:"card-type"},ge=I({__name:"index",setup(_){const p=K(),n=A(),l=T(""),i=T(),{t:e}=M(),w=()=>{const o=Date.now().toString();p.push({name:"direct",params:{id:o}}).then(()=>{console.log("[Home] jump to direct page"+e("common.success"))}).catch(t=>{console.error("[Home] jump to direct page"+e("common.error"),t)})},d=x(()=>[{title:e("home.examples.stockPrice.title"),type:"message",description:e("home.examples.stockPrice.description"),icon:"carbon:chart-line-data",prompt:e("home.examples.stockPrice.prompt")},{title:e("home.examples.weather.title"),type:"message",description:e("home.examples.weather.description"),icon:"carbon:partly-cloudy",prompt:e("home.examples.weather.prompt")}]),h=x(()=>[{title:e("home.examples.queryplan.title"),type:"plan-act",description:e("home.examples.queryplan.description"),icon:"carbon:plan",prompt:e("home.examples.queryplan.prompt"),planJson:{planType:"simple",title:e("home.examples.queryplan.planTitle"),steps:[{stepRequirement:e("home.examples.queryplan.step1"),terminateColumns:e("home.examples.queryplan.step1Output")},{stepRequirement:e("home.examples.queryplan.step2"),terminateColumns:e("home.examples.queryplan.step2Output")}],planId:"planTemplate-1749200517403"}},{title:e("home.examples.ainovel.title"),type:"plan-act",description:e("home.examples.ainovel.description"),icon:"carbon:document-tasks",prompt:e("home.examples.ainovel.prompt"),planJson:{planType:"simple",title:e("home.examples.ainovel.planTitle"),steps:[{stepRequirement:e("home.examples.ainovel.step1"),terminateColumns:e("home.examples.ainovel.step1Output")},{stepRequirement:e("home.examples.ainovel.step2"),terminateColumns:e("home.examples.ainovel.step2Output")}],planId:"planTemplate-1753622676988"}},{title:e("home.examples.formInputDemo.title"),type:"plan-act",description:e("home.examples.formInputDemo.description"),icon:"carbon:watson",prompt:e("home.examples.formInputDemo.prompt"),planJson:{planType:"simple",title:e("home.examples.formInputDemo.planTitle"),steps:[{stepRequirement:e("home.examples.formInputDemo.step1"),terminateColumns:e("home.examples.formInputDemo.step1Output")},{stepRequirement:e("home.examples.formInputDemo.step2"),terminateColumns:e("home.examples.formInputDemo.step2Output")},{stepRequirement:e("home.examples.formInputDemo.step3"),terminateColumns:e("home.examples.formInputDemo.step3Output")}],planId:"planTemplate-forminput-demo-2025"}}]),g=x(()=>[...d.value,...h.value]),v=o=>{o.type==="message"?J(o):o.type==="plan-act"&&E(o)};j(()=>{console.log("[Home] onMounted called"),console.log("[Home] taskStore:",n),console.log("[Home] examples:",d),n.markHomeVisited(),console.log("[Home] Home visited marked")});const b=async o=>{try{r.createNewTemplate(),r.jsonContent=JSON.stringify(o);const t=await r.saveTemplate();t!=null&&t.duplicate?console.log("[Sidebar] "+e("sidebar.saveCompleted",{message:t.message,versionCount:t.versionCount})):t!=null&&t.saved?console.log("[Sidebar] "+e("sidebar.saveSuccess",{message:t.message,versionCount:t.versionCount})):t!=null&&t.message&&console.log("[Sidebar] "+e("sidebar.saveStatus",{message:t.message}))}catch(t){console.error("[Sidebar] Failed to save the plan to the template library:",t),alert(t.message||e("sidebar.saveFailed"))}},N=()=>{H(()=>{i.value&&(i.value.style.height="auto",i.value.style.height=Math.min(i.value.scrollHeight,200)+"px")})},B=o=>{console.log("[Home] handleKeydown called, key:",o.key),o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),console.log("[Home] Enter key pressed, calling handleSend"),S())},S=()=>{if(console.log("[Home] handleSend called, userInput:",l.value),!l.value.trim()){console.log("[Home] handleSend aborted - empty input");return}const o=l.value.trim();console.log("[Home] Setting task to store:",o),n.setTask(o),console.log("[Home] Task set to store, current task:",n.currentTask);const t=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",t),p.push({name:"direct",params:{id:t}}).then(()=>{console.log("[Home] Navigation to direct page completed")}).catch(a=>{console.error("[Home] Navigation error:",a)})},J=o=>{console.log("[Home] selectExample called with example:",o),console.log("[Home] Example prompt:",o.prompt),n.setTask(o.prompt),console.log("[Home] Task set to store from example, current task:",n.currentTask);const t=Date.now().toString();console.log("[Home] Navigating to direct page with chatId:",t),p.push({name:"direct",params:{id:t}}).then(()=>{console.log("[Home] Navigation to direct page completed (from example)")}).catch(a=>{console.error("[Home] Navigation error (from example):",a)})},E=async o=>{console.log("[Home] selectPlan called with plan:",o);try{await b(o.planJson),console.log("[Home] Plan saved to templates");const t=Date.now().toString();await p.push({name:"direct",params:{id:t}}),H(async()=>{await new Promise(f=>setTimeout(f,300)),r.isCollapsed?(await r.toggleSidebar(),console.log("[Sidebar] Sidebar toggled")):console.log("[Sidebar] Sidebar is already open"),await r.loadPlanTemplateList(),console.log("[Sidebar] Template list loaded");const a=r.planTemplateList.find(f=>f.id===o.planJson.planId);if(!a){console.error("[Sidebar] Template not found");return}await r.selectTemplate(a),console.log("[Sidebar] Template selected:",a.title);const y=document.querySelector(".execute-btn");y.disabled?console.error("[Sidebar] Execute button not found or disabled"):(console.log("[Sidebar] Triggering execute button click"),y.click())})}catch(t){console.error("[Home] Error in selectPlan:",t)}};return(o,t)=>(m(),u("div",X,[s("div",Y,[t[2]||(t[2]=s("div",{class:"background-effects"},[s("div",{class:"gradient-orb orb-1"}),s("div",{class:"gradient-orb orb-2"}),s("div",{class:"gradient-orb orb-3"})],-1)),s("header",Z,[s("div",ee,[k(U)]),s("div",te,[t[1]||(t[1]=s("div",{class:"logo"},[s("img",{src:z,alt:"JManus",class:"java-logo"}),s("h1",null,"JManus")],-1)),s("span",oe,c(o.$t("home.tagline")),1)])]),s("main",se,[s("div",ae,[s("div",ne,[s("h2",le,c(o.$t("home.welcomeTitle")),1),s("p",re,c(o.$t("home.welcomeSubtitle")),1),s("button",{class:"direct-button",onClick:w},c(o.$t("home.directButton")),1)]),s("div",ie,[s("div",ce,[L(s("textarea",{"onUpdate:modelValue":t[0]||(t[0]=a=>l.value=a),ref_key:"textareaRef",ref:i,class:"main-input",placeholder:o.$t("home.inputPlaceholder"),onKeydown:B,onInput:N},null,40,pe),[[R,l.value]]),s("button",{class:"send-button",disabled:!l.value.trim(),onClick:S},[k(D(q),{icon:"carbon:send-alt"})],8,me)])]),s("div",de,[s("div",ue,[(m(!0),u(V,null,F(g.value,a=>(m(),u("div",{key:a.title,class:"card-with-type"},[k(W,{content:a,onClickCard:y=>v(a)},null,8,["content","onClickCard"]),s("span",he,c(a.type),1)]))),128))])])])])])]))}}),_e=P(ge,[["__scopeId","data-v-8f6d8b67"]]);export{_e as default};

"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[8086],{97108:function(T,h,e){var E=e(13311),C=e.n(E),m=e(56388),_=e(22453),y=e(51034),l=e(63781),c=e(74465),A=e(91030),P=e(12524),n=e.n(P),p=e(2784),g=e(31015),s=e(52322),f=function(i){var S,d=i.className,t=i.children,o=(0,m.d)(),D=o.bottomPortal;return!((S=i.children)!==null&&S!==void 0&&S.length)&&!i.loading?(0,s.jsx)("div",{className:"loading-center pt-[20px]",children:(0,s.jsx)(y.Z,C()(C()({title:i.isSearch?_.Z.get({id:"main.pages.App.components.MCPSelector.index.noSearchResult",dm:"\u6682\u65E0\u641C\u7D22\u7ED3\u679C"}):_.Z.get({id:"main.pages.MCP.components.Overview.index.noData",dm:"\u6682\u65E0\u6570\u636E"}),description:i.isSearch?_.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.tryAnotherSearchCondition",dm:"\u6362\u4E2A\u641C\u7D22\u6761\u4EF6\u8BD5\u8BD5"}):_.Z.get({id:"main.components.Card.List.createDataAndRetry",dm:"\u8BF7\u521B\u5EFA\u6570\u636E\u540E\u91CD\u8BD5"})},i.emptyProps||{}),{},{children:!i.isSearch&&!!i.emptyAction&&(0,s.jsx)("div",{className:"mt-3",children:i.emptyAction})}))}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:n()(g.Z.container,d),children:i.loading?(0,s.jsx)(c.Z,{spinning:!0,className:g.Z.loading}):t}),i.pagination&&D((0,s.jsx)(A.Z,{justify:"end",className:"flex-1",children:(0,s.jsx)(l.Z,C()({showSizeChanger:!0},i.pagination))}))]})};h.Z=f},86384:function(T,h,e){var E=e(45753),C=e(71938),m=e(12524),_=e.n(m),y=e(2784),l=e(31015),c=e(52322),A=function(n){var p=n.className,g=n.onClick;return(0,c.jsxs)("div",{className:_()(l.Z.card,p),onClick:g,children:[(0,c.jsxs)("div",{className:"flex justify-between items-center gap-2",children:[(0,c.jsxs)("div",{className:"flex items-center gap-2 flex-1",children:[n.logo&&(0,c.jsx)("div",{className:l.Z.avatar,children:typeof n.logo=="string"?(0,c.jsx)(E.Z,{type:n.logo,className:l.Z["workflow-icon"]}):n.logo}),(0,c.jsx)(C.Z.Text,{ellipsis:{tooltip:n.title},className:_()(l.Z.title,"flex-1 w-1"),children:n.title})]}),(0,c.jsx)("div",{className:"flex-shrink-0",children:n.statusNode})]}),(0,c.jsx)("div",{className:"mt-3",children:n.info.map(function(s,f){return(0,c.jsxs)("div",{className:"flex gap-2 items-center",children:[s.label&&(0,c.jsx)("div",{style:{width:n.labelWidth},className:_()(l.Z["info-label"]),children:s.label}),(0,c.jsx)("div",{className:l.Z["info-content"],children:s.content})]},f)})}),(0,c.jsx)("div",{className:l.Z["card-footer"],children:n.footerDescNode}),(0,c.jsx)("div",{onClick:function(f){return f.stopPropagation()},className:l.Z["operate-container"],children:n.footerOperateNode})]})};h.Z=A},56388:function(T,h,e){e.d(h,{d:function(){return P}});var E=e(42035),C=e.n(E),m=e(22453),_=e(2784),y=e(28316),l=function(p){var g=(0,_.useState)(null),s=C()(g,2),f=s[0],x=s[1];return(0,_.useEffect)(function(){var i=function(){var d=document.getElementById(p);d?x(d):console.warn(m.Z.get({id:"main.components.InnerLayout.utils.notFoundTargetElement",dm:"\u627E\u4E0D\u5230\u76EE\u6807\u5143\u7D20 #{var1}"},{var1:p}))};i()},[p]),function(i){return f?y.createPortal(i,f):null}},c=function(){return l("InnerLayoutRight")},A=function(){return l("InnerLayoutBottom")},P=function(){var p=c(),g=A(),s=function(x){var i={backgroundColor:"var(--ag-ant-color-bg-base)",borderTop:"1px solid var(--ag-ant-color-border-secondary)",padding:"16px 24px",display:"flex",gap:8};return g(_.createElement("div",{style:i},x))};return{rightPortal:p,bottomPortal:s}}},6927:function(T,h,e){e.d(h,{Z:function(){return P}});var E=e(4513),C=e(45753),m=e(12524),_=e.n(m),y=e(2784),l={input:"input___HTv2A"},c=e(52322),A=function(p){var g=p.onSearch,s=p.className,f=p.onChange,x=p.value,i=p.placeholder,S=i===void 0?"Type here...":i,d=function(D){var b=D.target.value;f(b)},t=function(){g==null||g(x)};return(0,c.jsx)(E.Z,{className:_()(l.input,s),prefix:(0,c.jsx)(C.Z,{type:"spark-search-line"}),placeholder:S,value:x,onChange:d,onPressEnter:t,allowClear:!0})},P=A},65803:function(T,h,e){e.d(h,{ek:function(){return G},wK:function(){return X}});var E=e(42035),C=e.n(E),m=e(49616),_=e.n(m),y=e(13311),l=e.n(y),c=e(87329),A=e.n(c),P=e(6927),n=e(22453),p=e(15127),g=e(51034),s=e(72624),f=e(45753),x=e(35899),i=e(56733),S=e(63781),d=e(19612),t=e(84546),o=e(2821),D=e(5693),b=e(74465),L=e(91030),F=e(71938),V=e(12524),U=e.n(V),K=e(2784),H=e(10289),O={list:"list___IifDG",card:"card___Z5BaH",title:"title___bUB19",desc:"desc___JKewF",selected:"selected___yyKF4",search:"search___qBLLB","list-wrap":"list-wrap___oMa1e",page:"page___rKFe5"},u=e(52322),G=A()(A()({},p.zd.AGENT,"/images/agentLogo.svg"),p.zd.WORKFLOW,"/images/workflowLogo.svg");function J(a){var N=(0,H.s0)(),I=(0,K.useMemo)(function(){return!a.value||Array.isArray(a.value)&&!a.value.length?a.list.map(function(r){return l()(l()({},r),{},{isSelected:!1})}):a.list.map(function(r){var v=Array.isArray(a.value)?a.value.includes(r.app_id):a.value===r.app_id;return l()(l()({},r),{},{isSelected:v})})},[a.value,a.list]);return a.loading?(0,u.jsx)(b.Z,{className:"loading-center",spinning:!0}):a.list.length?(0,u.jsxs)(L.Z,{className:"h-full",vertical:!0,gap:12,children:[(0,u.jsx)(L.Z,{className:U()(O.list,a.className),gap:12,wrap:!0,children:I.map(function(r){return(0,u.jsxs)("div",{onClick:function(){if(a.isMulti){var j=a.value||[];if(r.isSelected){var Z;(Z=a.onRemove)===null||Z===void 0||Z.call(a,r.app_id)}else a.onSelect([].concat(_()(j),[r.app_id]),r)}else{if(r.isSelected)return;a.onSelect(r,r)}},className:U()(O.card,A()({},O.selected,r.isSelected)),children:[(0,u.jsxs)(L.Z,{gap:8,align:"center",children:[(0,u.jsx)("img",{src:G[r.type],alt:""}),(0,u.jsxs)(L.Z,{align:"center",gap:4,className:"flex-1 w-1",children:[(0,u.jsx)(F.Z.Text,{ellipsis:{tooltip:r.name},className:O.title,children:r.name}),(0,u.jsx)(f.Z,{onClick:function(){window.open("/app/".concat(r.type===p.zd.AGENT?"assistant":"workflow","/").concat(r.app_id))},className:"cursor-pointer",type:"spark-setting-line"})]}),a.isMulti?(0,u.jsx)(x.Z,{checked:r.isSelected}):(0,u.jsx)(i.ZP,{checked:r.isSelected})]}),(0,u.jsx)("div",{className:O.desc,children:n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.idVar1",dm:"ID\uFF1A{var1}"},{var1:r.app_id})})]},r.app_id)})}),a.pagination&&(0,u.jsx)(S.Z,l()({hideOnSinglePage:!0,className:O.page},a.pagination))]}):(0,u.jsx)("div",{className:"loading-center",children:(0,u.jsx)(g.Z,{title:a.isSearch?n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.noSearchResult",dm:"\u672A\u641C\u7D22\u51FA\u6765\u7B26\u5408\u6761\u4EF6\u7684\u5E94\u7528"}):n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.noApplication",dm:"\u6682\u65E0\u5E94\u7528"}),description:a.isSearch?n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.tryAnotherSearchCondition",dm:"\u6362\u4E2A\u641C\u7D22\u6761\u4EF6\u8BD5\u8BD5"}):n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.goToCreateApplicationFirst",dm:"\u8BF7\u5148\u524D\u5F80\u5E94\u7528\u7BA1\u7406\u521B\u5EFA\u5E94\u7528"}),children:!a.isSearch&&(0,u.jsx)(s.Z,{className:"mt-[12px]",onClick:function(){return N("/app")},type:"primary",children:n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.goToCreate",dm:"\u524D\u5F80\u521B\u5EFA"})})})})}function X(a){var N,I=(0,o.Z)({loading:!0,list:[],app_name:"",current:1,size:10,total:0,selectedApp:null}),r=C()(I,2),v=r[0],j=r[1],Z=(0,K.useRef)(!1),$=function(){if(!v.selectedApp){d.Z.warning(n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.selectApplication",dm:"\u8BF7\u9009\u62E9\u5E94\u7528"}));return}a.onOk(v.selectedApp)},R=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};j({loading:!0});var W=Z.current?{app_name:v.app_name}:{};(0,p.D9)(l()(l()({type:a.type,current:v.current,size:v.size},M),W)).then(function(z){j({list:z.records,total:z.total,loading:!1})}).catch(function(){j({loading:!1})})};(0,D.Z)(function(){R()});var Q=function(){Z.current=!!v.app_name,j({current:1}),R({current:1})};return(0,u.jsx)(t.Z,{width:807,onOk:$,onCancel:a.onClose,open:!0,title:n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.selectApplication",dm:"\u9009\u62E9\u5E94\u7528"}),children:(0,u.jsxs)(L.Z,{vertical:!0,gap:12,children:[(0,u.jsxs)(L.Z,{justify:"space-between",align:"center",children:[(0,u.jsx)(P.Z,{className:O.search,value:v.app_name,onChange:function(M){return j({app_name:M})},onSearch:Q,placeholder:n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.searchApplicationName",dm:"\u641C\u7D22\u5E94\u7528\u540D\u79F0"})}),(0,u.jsxs)(s.Z,{icon:(0,u.jsx)(f.Z,{type:"spark-plus-line"}),onClick:function(){return window.open("/app")},children:[n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.create",dm:"\u521B\u5EFA"}),a.type===p.zd.AGENT?n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.smartAgent",dm:"\u667A\u80FD\u4F53"}):n.Z.get({id:"main.pages.Component.AppComponent.components.AppSelector.index.workflow",dm:"\u5DE5\u4F5C\u6D41"})]})]}),(0,u.jsx)("div",{className:O["list-wrap"],children:(0,u.jsx)(J,{onSelect:function(M){return j({selectedApp:M})},list:v.list,value:(N=v.selectedApp)===null||N===void 0?void 0:N.app_id,loading:v.loading,isSearch:Z.current,pagination:{total:v.total,pageSize:v.size,current:v.current,onChange:function(M,W){j({current:M,size:W}),R({current:M,size:W})}}})})]})})}},15127:function(T,h,e){e.d(h,{AE:function(){return g},D9:function(){return c},Mh:function(){return P},T$:function(){return i},Xe:function(){return p},cZ:function(){return x},fS:function(){return A},jR:function(){return s},l9:function(){return l},mw:function(){return n},ot:function(){return S},xx:function(){return f},zd:function(){return y}});var E=e(74875),C=e.n(E),m=e(46639),_=["code"],y=function(d){return d.AGENT="basic",d.WORKFLOW="workflow",d}({}),l=function(t){return(0,m.W)({url:"/console/v1/component-servers",method:"GET",params:t}).then(function(o){return o.data.data})},c=function(t){return(0,m.W)({url:"/console/v1/component-servers/app-publishable",method:"GET",params:t}).then(function(o){return o.data.data})},A=function(t){return(0,m.W)({url:"/console/v1/component-servers",method:"POST",data:t}).then(function(o){return o.data.data})},P=function(t){var o=t.code,D=C()(t,_);return(0,m.W)({url:"/console/v1/component-servers/".concat(o),method:"PUT",data:D}).then(function(b){return b.data.data})},n=function(t){return(0,m.W)({url:"/console/v1/component-servers/".concat(t),method:"DELETE"}).then(function(o){return o.data.data})},p=function(t){return(0,m.W)({url:"/console/v1/component-servers/".concat(t,"/detail-by-code"),method:"GET"}).then(function(o){return o.data.data})},g=function(t){return(0,m.W)({url:"/console/v1/component-servers/".concat(t,"/detail-by-appid"),method:"GET"}).then(function(o){return o.data.data})},s=function(t){return(0,m.W)({url:"/console/v1/component-servers/".concat(t,"/query-refer"),method:"GET"}).then(function(o){return o.data.data})},f=function(t){return(0,m.W)({url:"/console/v1/component-servers/".concat(t,"/query-config"),method:"GET"}).then(function(o){return o.data.data})},x=function(t){return(0,m.W)({url:"/console/v1/component-servers/".concat(t,"/query-schema"),method:"GET"}).then(function(o){return o.data.data})},i=function(t){return(0,m.W)({url:"/console/v1/component-servers/schema-by-codes",method:"POST",data:{codes:t}}).then(function(o){return o.data.data})},S=function(t){return(0,m.W)({url:"/console/v1/component-servers/query-by-codes",method:"POST",data:{codes:t}}).then(function(o){return o.data.data})}},31015:function(T,h){h.Z={card:"card___OYpzC","operate-container":"operate-container___Ajsj8","card-footer":"card-footer____7Ci6","info-label":"info-label___lVG4M","info-content":"info-content___rlFfy",avatar:"avatar___iUn_0",container:"container___WZZbR",pagination:"pagination___XcJ45",loading:"loading___bQwVn"}}}]);

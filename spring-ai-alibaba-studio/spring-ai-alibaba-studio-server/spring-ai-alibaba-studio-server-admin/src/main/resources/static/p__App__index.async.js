"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[202],{45642:function(K,M,e){e.d(M,{a:function(){return p}});var A=e(42035),_=e.n(A),s=e(22453),y=e(1905),v=e(58541),j=e(19612),c=e(84546),n=e(4513),t=e(52322),p=function(u){var Z=v.Z.useForm(),m=_()(Z,1),r=m[0],g=function(){r.validateFields().then(function(b){(0,y.KT)({app_id:u.app_id,name:b.name,description:b.description}).then(function(){j.Z.success(s.Z.get({id:"main.pages.App.components.EditNameModal.index.updateSuccess",dm:"\u66F4\u65B0\u6210\u529F"})),u.onOk()})})};return(0,t.jsx)(c.Z,{open:!0,onCancel:u.onClose,onOk:g,title:s.Z.get({id:"main.pages.App.components.EditNameModal.index.editAppName",dm:"\u7F16\u8F91\u5E94\u7528\u540D\u79F0"}),children:(0,t.jsxs)(v.Z,{initialValues:{name:u.name,description:u.description},form:r,layout:"vertical",children:[(0,t.jsx)(v.Z.Item,{required:!0,rules:[{required:!0,message:s.Z.get({id:"main.pages.App.components.EditNameModal.index.enterAppName",dm:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0"})}],label:s.Z.get({id:"main.pages.App.components.EditNameModal.index.appName",dm:"\u5E94\u7528\u540D\u79F0"}),name:"name",children:(0,t.jsx)(n.Z,{style:{height:36,marginBottom:12},maxLength:(u==null?void 0:u.maxLength)||50,showCount:{formatter:function(b){var I=b.count,k=b.maxLength;return(0,t.jsxs)(t.Fragment,{children:[I,"/",k]})}},placeholder:s.Z.get({id:"main.pages.App.components.EditNameModal.index.enterAppName",dm:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0"})})}),(0,t.jsx)(v.Z.Item,{label:s.Z.get({id:"main.pages.App.components.EditNameModal.index.appDescription",dm:"\u5E94\u7528\u63CF\u8FF0"}),name:"description",children:(0,t.jsx)(n.Z.TextArea,{style:{height:150},maxLength:200,placeholder:s.Z.get({id:"main.pages.App.components.EditNameModal.index.enterAppDescription",dm:"\u8BF7\u8F93\u5165\u5E94\u7528\u63CF\u8FF0"})})})]})})}},20977:function(K,M,e){e.r(M),e.d(M,{default:function(){return fe}});var A=e(13311),_=e.n(A),s=e(42035),y=e.n(s),v=e(97108),j=e(882),c=e(6927),n=e(22453),t=e(15127),p=e(1905),N=e(11246),u=e(19612),Z=e(72624),m=e(45753),r=e(2821),g=e(5693),E=e(2784),b=e(10289),I=e(87329),k=e.n(I),$=e(86384),H=e(65803),J=e(92748),Q=e(90257),X=e(78308),q=e(28879),ee=e.n(q),ne={logo:"logo____ylDG"},L={status:"status___jM5Sa",dot:"dot___L1VVk",text:"text___h0pOR",published:"published___Xwcpn",editing:"editing___Fuamf",draft:"draft___BJmqu"},a=e(52322),ae=function(h){var T=h.status,O=function(){switch(T){case"published":return{text:n.Z.get({id:"main.pages.App.components.Card.Status.published",dm:"\u5DF2\u53D1\u5E03"}),className:L.published};case"published_editing":return{text:n.Z.get({id:"main.pages.App.components.Card.Status.publishedEditing",dm:"\u5DF2\u53D1\u5E03\u7F16\u8F91\u4E2D"}),className:L.editing};case"draft":return{text:n.Z.get({id:"main.pages.App.components.Card.Status.draft",dm:"\u8349\u7A3F"}),className:L.draft};default:return{text:"",className:""}}},i=O();return(0,a.jsxs)("div",{className:"".concat(L.status," ").concat(i.className),children:[(0,a.jsx)("div",{className:L.dot}),(0,a.jsx)("span",{className:L.text,children:i.text})]})},te=ae,ie=k()(k()({},t.zd.AGENT,n.Z.get({id:"main.pages.App.components.Card.index.intelligentAgentApp",dm:"\u667A\u80FD\u4F53\u5E94\u7528"})),t.zd.WORKFLOW,n.Z.get({id:"main.pages.App.components.Card.index.workflowApp",dm:"\u6D41\u7A0B\u7F16\u6392\u5E94\u7528"})),re=function(h){var T=h.app_id,O=h.name,i=h.gmt_modified,d=h.type,C=h.status,P=h.onClickAction,f=(0,E.useMemo)(function(){return ee()(i).format("YYYY-MM-DD HH:mm:ss")},[i]),R=n.Z.getCurrentLanguage();return(0,a.jsx)($.Z,{title:O,logo:(0,a.jsx)("img",{className:ne.logo,src:H.ek[d]}),statusNode:(0,a.jsx)(te,{status:C}),labelWidth:R==="en"?70:60,info:[{label:n.Z.get({id:"main.pages.App.components.Card.index.updateTime",dm:"\u66F4\u65B0\u65F6\u95F4"}),content:f},{label:n.Z.get({id:"main.pages.App.components.Card.index.appId",dm:"ID"}),content:T}],onClick:function(){return P("click")},footerDescNode:(0,a.jsx)(J.Z,{color:"mauve",children:ie[d]}),footerOperateNode:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Z.Z,{type:"primary",className:"flex-1",onClick:function(){return P("edit")},children:n.Z.get({id:"main.pages.App.components.Card.index.edit",dm:"\u7F16\u8F91"})}),(0,a.jsx)(Q.Z,{getPopupContainer:function(B){return B},menu:{onClick:function(B){P(B.key)},items:[{label:n.Z.get({id:"main.pages.App.components.Card.index.modifyAppName",dm:"\u4FEE\u6539\u5E94\u7528\u540D"}),key:"editName"},{label:n.Z.get({id:"main.pages.App.components.Card.index.copyApp",dm:"\u590D\u5236\u5E94\u7528"}),key:"copy"},{label:n.Z.get({id:"main.pages.App.components.Card.index.delete",dm:"\u5220\u9664"}),danger:!0,key:"delete"}]},children:(0,a.jsx)(X.Z,{shape:"default",icon:"spark-more-line"})})]})})},se=re,oe=e(53890),de=e(99604),le=e(84546),pe=e(91030),ce=e(12524),z=e.n(ce),ue=e(36175),D={divider:"divider___v7sMw","app-create-modal":"app-create-modal___loDbt",item:"item___Xxeqn",header:"header___EuyeC",title:"title___FAP1w",desc:"desc___Q7Hw9"},w=[{label:n.Z.get({id:"main.pages.App.components.CreateModal.index.intelligentAgentApp",dm:"\u667A\u80FD\u4F53\u5E94\u7528"}),name:n.Z.get({id:"main.pages.App.components.CreateModal.index.intelligentAgent",dm:"\u667A\u80FD\u4F53"}),value:"basic"},{label:n.Z.get({id:"main.pages.App.components.Card.index.workflowApp",dm:"\u6D41\u7A0B\u7F16\u6392\u5E94\u7528"}),name:n.Z.get({id:"main.pages.App.components.CreateModal.index.workflow",dm:"\u6D41\u7A0B\u7F16\u6392"}),value:"workflow"}];function me(W){var h=(0,de.sA)().isDarkMode,T=(0,r.Z)({activeRecord:w[0],createLoading:!1}),O=y()(T,2),i=O[0],d=O[1],C=function(f){i.createLoading||(d({createLoading:!0}),(0,p.ri)({name:"".concat(f.name,"_").concat((0,oe.Z)(4)),type:f.value,config:(0,ue.Q)(f.value)}).then(function(R){u.Z.success(n.Z.get({id:"main.pages.App.components.CreateModal.index.createSuccess",dm:"\u521B\u5EFA\u6210\u529F"})),W.onOk({type:f.value,app_id:R}),d({createLoading:!1})}).catch(function(){d({createLoading:!1})}))};return(0,a.jsx)(le.Z,{open:!0,className:D["app-create-modal"],footer:null,width:888,onCancel:W.onCancel,title:n.Z.get({id:"main.pages.App.components.CreateModal.index.createApp",dm:"\u521B\u5EFA\u5E94\u7528"}),styles:{body:{padding:40}},children:(0,a.jsxs)(pe.Z,{gap:40,children:[(0,a.jsxs)("div",{className:z()(D.item),children:[(0,a.jsx)("img",{src:"/images/createAgent".concat(h?"Dark":"",".png")}),(0,a.jsxs)("div",{className:D.header,children:[(0,a.jsx)("div",{className:D.title,children:n.Z.get({id:"main.pages.App.components.CreateModal.index.intelligentAgentApp",dm:"\u667A\u80FD\u4F53\u5E94\u7528"})}),(0,a.jsx)(Z.Z,{iconType:"spark-plus-line",type:"primary",onClick:function(){return C(w[0])},children:n.Z.get({id:"main.pages.App.components.CreateModal.index.create",dm:"\u521B\u5EFA"})})]}),(0,a.jsx)("div",{className:D.desc,children:n.Z.get({id:"main.pages.App.components.CreateModal.index.buildIntelligentAgentApp",dm:"\u6784\u5EFA\u667A\u80FD\u4F53\u5E94\u7528\uFF0C\u8FDE\u63A5\u77E5\u8BC6\u3001\u6570\u636E\u4E0E\u670D\u52A1\uFF0C\u5F3A\u5927\u7684RAG\u3001MCP\u3001\u63D2\u4EF6\u3001\u8BB0\u5FC6\u53CA\u7EC4\u4EF6\u80FD\u529B\uFF0C\u9002\u914D\u591A\u79CD\u6A21\u578B\uFF0C\u9002\u7528\u4E8E\u667A\u80FD\u52A9\u7406\u578B\u3001\u5BF9\u8BDD\u578B\u573A\u666F\u3002"})})]}),(0,a.jsxs)("div",{className:z()(D.item),children:[(0,a.jsx)("img",{src:"/images/createFlow".concat(h?"Dark":"",".png")}),(0,a.jsxs)("div",{className:D.header,children:[(0,a.jsx)("div",{className:D.title,children:n.Z.get({id:"main.pages.App.components.CreateModal.index.workflowApp",dm:"\u5DE5\u4F5C\u6D41\u7F16\u6392\u5E94\u7528"})}),(0,a.jsx)(Z.Z,{iconType:"spark-plus-line",type:"primary",onClick:function(){return C(w[1])},children:n.Z.get({id:"main.pages.App.components.CreateModal.index.create",dm:"\u521B\u5EFA"})})]}),(0,a.jsx)("div",{className:D.desc,children:n.Z.get({id:"main.pages.App.components.CreateModal.index.designWorkflow",dm:"\u7528\u6237\u901A\u8FC7\u753B\u5E03\u81EA\u5B9A\u4E49\u7F16\u6392\u5DE5\u4F5C\u6D41\uFF0C\u5FEB\u901F\u5B9E\u73B0\u4E1A\u52A1\u903B\u8F91\u8BBE\u8BA1\u53CA\u6548\u679C\u9A8C\u8BC1\uFF0C\u652F\u6301\u5927\u6A21\u578B\u3001\u667A\u80FD\u4F53\u3001\u7EC4\u4EF6\u3001API\u7B49\u591A\u79CD\u8282\u70B9\uFF0C\u9002\u7528\u4E8E\u591A\u667A\u80FD\u4F53\u534F\u540C\u578B\u3001\u6D41\u7A0B\u578B\u573A\u666F\u3002"})})]})]})})}var ge=e(45642),F=[{label:n.Z.get({id:"main.pages.App.index.allApplications",dm:"\u5168\u90E8\u5E94\u7528"}),key:"all"},{label:n.Z.get({id:"main.pages.App.index.smartAgentApplication",dm:"\u667A\u80FD\u4F53\u5E94\u7528"}),key:"agent"},{label:n.Z.get({id:"main.pages.App.index.workflowApplication",dm:"\u5DE5\u4F5C\u6D41\u5E94\u7528"}),key:"workflow"}],G={all:void 0,agent:t.zd.AGENT,workflow:t.zd.WORKFLOW};function fe(){var W=(0,b.UO)(),h=W.tab,T=(0,r.Z)({activeTab:h||F[0].key,size:50,current:1,total:0,name:"",loading:!0,status:"",list:[],showCreateModal:!1,activeRecord:null,showEditNameModal:!1}),O=y()(T,2),i=O[0],d=O[1],C=(0,E.useRef)(!1),P=(0,b.s0)(),f=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=C.current?{name:i.name}:{};d({loading:!0}),(0,p.yk)(_()(_()({size:i.size,current:i.current,status:i.status.length?i.status:void 0,type:G[i.activeTab]},x),o)).then(function(S){d({list:S.records,total:S.total,loading:!1})}).catch(function(){d({loading:!1})})};(0,g.Z)(function(){f()});var R=function(o){P("/app/".concat(o)),C.current=!1,d({current:1,name:"",activeTab:o}),f({current:1,type:G[o]})},U=function(o){C.current=!!o,d({current:1}),f({current:1})},B=function(o){N.Z.warning({title:n.Z.get({id:"main.pages.App.index.deleteApplication",dm:"\u5220\u9664\u5E94\u7528"}),content:n.Z.get({id:"main.pages.App.index.confirmDeleteApplication",dm:"\u786E\u5B9A\u5220\u9664\u8BE5\u5E94\u7528\u5417\uFF1F"}),onOk:function(){(0,p.P2)(o).then(function(){var S=i.current;i.list.length===1&&S>1&&(S-=1,d({current:S})),f({current:S})})}})},V=function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;o&&f(),d({activeRecord:null,showEditNameModal:!1})},_e=function(){C.current=!1,d({current:1,name:"",status:""}),f({current:1,status:""})},Y=function(o){P("/app/".concat(o.type===t.zd.AGENT?"assistant":"workflow","/").concat(o.app_id))},ve=function(o,x){switch(o){case"click":case"edit":Y(x);break;case"editName":d({activeRecord:x,showEditNameModal:!0});break;case"copy":(0,p.o$)(x.app_id).then(function(){u.Z.success(n.Z.get({id:"main.pages.App.index.copySuccess",dm:"\u590D\u5236\u6210\u529F"})),_e()});break;case"delete":B(x.app_id);break;default:break}};return(0,a.jsxs)(j.Z,{breadcrumbLinks:[{title:n.Z.get({id:"main.pages.App.index.applicationManagement",dm:"\u5E94\u7528\u7BA1\u7406"})}],activeTab:i.activeTab,tabs:F,right:(0,a.jsx)(Z.Z,{onClick:function(){return d({showCreateModal:!0})},icon:(0,a.jsx)(m.Z,{type:"spark-plus-line"}),type:"primary",children:n.Z.get({id:"main.pages.App.index.createApplication",dm:"\u521B\u5EFA\u5E94\u7528"})}),onTabChange:R,children:[!i.list.length&&!C.current?null:(0,a.jsx)(c.Z,{placeholder:n.Z.get({id:"main.pages.App.index.enterApplicationName",dm:"\u8BF7\u8F93\u5165\u5E94\u7528\u540D\u79F0"}),value:i.name,onChange:function(o){return d({name:o})},className:"mx-[20px] my-[16px]",onSearch:U}),(0,a.jsx)(v.Z,{pagination:{current:i.current,total:i.total,pageSize:i.size,onChange:function(o,x){d({current:o,size:x}),f({current:o,size:x})}},isSearch:C.current,emptyAction:(0,a.jsx)(Z.Z,{icon:(0,a.jsx)(m.Z,{type:"spark-plus-line"}),onClick:function(){return d({showCreateModal:!0})},type:"primary",children:n.Z.get({id:"main.pages.App.index.createApplication",dm:"\u521B\u5EFA\u5E94\u7528"})}),loading:i.loading,children:i.list.map(function(l){return(0,a.jsx)(se,_()(_()({},l),{},{onClickAction:function(x){return ve(x,l)}}),l.app_id)})}),i.showCreateModal&&(0,a.jsx)(me,{onCancel:function(){return d({showCreateModal:!1})},onOk:function(o){d({showCreateModal:!1}),Y(o)}}),i.showEditNameModal&&!!i.activeRecord&&(0,a.jsx)(ge.a,{onClose:function(){return V()},onOk:function(){return V(!0)},app_id:i.activeRecord.app_id,name:i.activeRecord.name,description:i.activeRecord.description})]})}},36175:function(K,M,e){e.d(M,{Q:function(){return v},R:function(){return j}});var A=e(22453),_=e(53890),s=function(){return{nodes:[{id:"Start_".concat((0,_.Z)(4)),name:A.Z.get({id:"main.pages.App.utils.index.start",dm:"\u5F00\u59CB"}),type:"Start",position:{x:0,y:0},config:{input_params:[],output_params:[{key:"city",type:"String",desc:A.Z.get({id:"main.pages.App.utils.index.city",dm:"\u57CE\u5E02"})},{key:"date",type:"String",desc:A.Z.get({id:"main.pages.App.utils.index.date",dm:"\u65E5\u671F"})}],node_param:{}},width:320},{id:"End_".concat((0,_.Z)(4)),name:A.Z.get({id:"main.pages.App.utils.index.end",dm:"\u7ED3\u675F"}),type:"End",position:{x:450,y:0},config:{input_params:[],output_params:[],node_param:{output_type:"text",text_template:"",json_params:[],stream_switch:!1}},width:320}],edges:[],global_config:{history_config:{history_max_round:5,history_switch:!1},variable_config:{conversation_params:[]}}}},y=function(){return{instructions:"",tools:{},file_search:{},mcp_servers:[],agent_components:[],workflow_components:[]}},v=function(n){switch(n){case"workflow":return s();case"basic":return y();default:return{}}};function j(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];if(c.length!==n.length)return!1;for(var t=0;t<c.length;t++)if(c[t]!==n[t])return!1;return JSON.stringify(c)===JSON.stringify(n)}},1905:function(K,M,e){e.d(M,{Df:function(){return u},KT:function(){return n},P2:function(){return c},YI:function(){return Z},b1:function(){return N},le:function(){return p},o$:function(){return t},ri:function(){return j},yk:function(){return v}});var A=e(74875),_=e.n(A),s=e(46639),y=["app_id"],v=function(r){return(0,s.W)({url:"/console/v1/apps",method:"GET",params:r}).then(function(g){return g.data.data})},j=function(r){return(0,s.W)({url:"/console/v1/apps",method:"POST",data:r}).then(function(g){return g.data.data})},c=function(r){return(0,s.W)({url:"/console/v1/apps/".concat(r),method:"DELETE"})},n=function(r){var g=r.app_id,E=_()(r,y);return(0,s.W)({url:"/console/v1/apps/".concat(g),method:"PUT",data:E})},t=function(r){return(0,s.W)({url:"/console/v1/apps/".concat(r,"/copy"),method:"POST"})},p=function(r){return(0,s.W)({url:"/console/v1/apps/".concat(r),method:"GET"}).then(function(g){return g.data.data})},N=function(r){return(0,s.W)({url:"/console/v1/apps/".concat(r,"/publish"),method:"POST"})},u=function(r){var g=r.app_id,E=r.current,b=r.size,I=r.status;return(0,s.W)({url:"/console/v1/apps/".concat(g,"/versions"),method:"GET",params:{current:E,size:b,status:I}}).then(function(k){return k.data})},Z=function(r,g){return(0,s.W)({url:"/console/v1/apps/".concat(r,"/versions/").concat(g),method:"GET"}).then(function(E){return E.data})}},53890:function(K,M,e){e.d(M,{Z:function(){return n}});var A=e(42035),_=e.n(A),s=[["0","9"],["a","z"],["A","Z"]].map(function(t){return t.map(function(p){return p.charCodeAt(0)})}).flatMap(function(t){var p=_()(t,2),N=p[0],u=p[1];return Array.from({length:u-N+1},function(Z,m){return N+m})}),y=function(p){return String.fromCharCode.apply(String,Array.from({length:p},function(){return s[Math.floor(Math.random()*s.length)]}))},v=0,j=function(p){return v+=1,"".concat(v.toString(16),"######").substring(0,p)},c="random";function n(t){return c==="incremental"?j(t):y(t)}}}]);

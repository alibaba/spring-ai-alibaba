"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[3185],{93185:function(q,N,a){a.d(N,{x:function(){return H},Z:function(){return oe}});var w=a(12323),n=a.n(w),Z=a(63260),u=a.n(Z),h=a(42035),x=a.n(h),m=a(13311),D=a.n(m),B=a(97108),G=a(56388),t=a(22453),O=a(13341),M=a(76042),j=a(72624),I=a(45753),W=a(11246),T=a(19612),F=a(2821),U=a(5693),s=a(2784),c=a(10289),l=a(44433),E=a(86384),e=a(90257),ee=a(12524),ae=a.n(ee),ne=a(28879),re=a.n(ne),$={"status-tag":"status-tag___Aqq6t",dot:"dot___z1afT","update-time":"update-time___A28YE"},i=a(52322),te=function(k){var C=k.data,g=k.onClick,X=k.className,z=C.name,_=C.server_code,L=C.gmt_modified,A=C.description,J=C.status,R=J,Y=M.w[R]||M.w[M.YI.DELETED],K=Y.color,Q=Y.text,P=(0,s.useMemo)(function(){return re()(L).format("YYYY-MM-DD HH:mm:ss")},[L]),d=function(p){p.domEvent.stopPropagation(),g==null||g(p.key,C)},o=function(p,r){r.stopPropagation(),g==null||g(p,C)},y=function(){var p=[];return p.push({key:"delete",label:t.Z.get({id:"main.pages.MCP.components.McpCard.index.delete",dm:"\u5220\u9664"}),danger:!0}),(0,i.jsxs)(i.Fragment,{children:[R===M.YI.ENABLED&&(0,i.jsx)(j.Z,{type:"primary",className:"flex-1",onClick:function(f){return o("stop",f)},children:t.Z.get({id:"main.pages.MCP.components.McpCard.index.stopService",dm:"\u505C\u6B62\u670D\u52A1"})}),R===M.YI.DISABLED&&(0,i.jsx)(j.Z,{type:"primary",className:"flex-1",onClick:function(f){return o("start",f)},children:t.Z.get({id:"main.pages.MCP.components.McpCard.index.startService",dm:"\u542F\u52A8\u670D\u52A1"})}),(0,i.jsx)(j.Z,{type:"default",className:"flex-1",onClick:function(f){return o("edit",f)},children:t.Z.get({id:"main.pages.MCP.components.McpCard.index.editService",dm:"\u7F16\u8F91\u670D\u52A1"})}),(0,i.jsx)(e.Z,{getPopupContainer:function(f){return f},trigger:["click"],menu:{items:p,onClick:d},children:(0,i.jsx)("div",{onClick:function(f){return f.stopPropagation()},children:(0,i.jsx)(j.Z,{icon:(0,i.jsx)(I.Z,{type:"spark-more-line"})})})})]})};return(0,i.jsx)(E.Z,{title:z,logo:"spark-MCP-mcp-line",statusNode:(0,i.jsxs)("div",{className:$["status-tag"],style:{color:K},"data-color":K,children:[(0,i.jsx)("span",{className:$.dot}),(0,i.jsx)("span",{children:Q})]}),info:[{label:t.Z.get({id:"main.pages.MCP.components.McpCard.index.description",dm:"\u63CF\u8FF0"}),content:A||"-"},{label:t.Z.get({id:"main.pages.MCP.components.McpCard.index.serviceId",dm:"ID"}),content:_}],footerDescNode:(0,i.jsxs)("div",{className:$["update-time"],children:[t.Z.get({id:"main.pages.MCP.components.McpCard.index.updatedAt",dm:"\u66F4\u65B0\u4E8E"}),P]}),footerOperateNode:y(),className:ae()($.container,X),onClick:function(){return g==null?void 0:g("detail",C)}})},se=te,ie={container:"container___gHtIi"},H=(0,s.memo)(function(b){var k=function(){b.isOpenNew?window.open("/mcp/create"):l.m8.push("/mcp/create")};return(0,i.jsx)(i.Fragment,{children:(0,i.jsx)(j.Z,D()(D()({onClick:k,type:"primary",icon:(0,i.jsx)(I.Z,{type:"spark-plus-line"})},b.buttonProps),{},{children:b.text||t.Z.get({id:"main.pages.MCP.Manage.createMcpService",dm:"\u521B\u5EFAMCP\u670D\u52A1"})}))})});function oe(){var b,k=(0,G.d)(),C=k.rightPortal,g=(0,c.s0)(),X=(0,F.Z)({list:[],pageNo:1,pageSize:50,total:0,loading:!1}),z=x()(X,2),_=z[0],L=z[1],A=function(){var P=u()(n()().mark(function d(){var o,y,v,p,r,f,V=arguments;return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return o=V.length>0&&V[0]!==void 0?V[0]:{},L({loading:!0}),S.prev=2,p={current:(y=o.pageNo)!==null&&y!==void 0?y:_.pageNo,size:(v=o.pageSize)!==null&&v!==void 0?v:_.pageSize,need_tools:!1},S.next=6,(0,O.Pk)(p);case 6:r=S.sent,r&&r.data&&(f=r.data,L({list:f.records||[],total:f.total||0,pageNo:p.current,pageSize:p.size}));case 8:return S.prev=8,L({loading:!1}),S.finish(8);case 11:case"end":return S.stop()}},d,null,[[2,,8,11]])}));return function(){return P.apply(this,arguments)}}();(0,U.Z)(function(){A()});var J=function(d){W.Z.warning({title:t.Z.get({id:"main.pages.MCP.Manage.confirmDeleteThisMcpService",dm:"\u786E\u8BA4\u5220\u9664\u6B64MCP\u670D\u52A1\u5417"}),children:t.Z.get({id:"main.pages.MCP.Manage.deleteWillNotBeRecoverableAlreadyAddedServicesMayFailPleaseProceedWithCaution",dm:"\u5220\u9664\u540E\u5C06\u4E0D\u53EF\u6062\u590D\uFF0C\u5DF2\u7ECF\u6DFB\u52A0\u8BE5\u670D\u52A1\u7684\u667A\u80FD\u4F53\u53EF\u80FD\u4F1A\u5931\u6548\uFF0C\u8BF7\u8C28\u614E\u64CD\u4F5C"}),danger:!0,onOk:function(){var o=u()(n()().mark(function v(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.c8)(d.server_code);case 2:T.Z.success(t.Z.get({id:"main.pages.MCP.Manage.deletionSuccessful",dm:"\u5220\u9664\u6210\u529F"})),A();case 4:case"end":return r.stop()}},v)}));function y(){return o.apply(this,arguments)}return y}()})},R=function(d){W.Z.warning({title:t.Z.get({id:"main.pages.MCP.Manage.confirmStopDeploymentOfThisService",dm:"\u786E\u8BA4\u505C\u6B62\u90E8\u7F72\u6B64\u670D\u52A1\u5417"}),cancelText:t.Z.get({id:"main.pages.MCP.Manage.cancel",dm:"\u53D6\u6D88"}),okText:t.Z.get({id:"main.pages.MCP.Manage.stopDeployment",dm:"\u505C\u6B62\u90E8\u7F72"}),onOk:function(){var o=u()(n()().mark(function v(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.if)(D()(D()({},d),{},{status:M.YI.DISABLED}));case 2:T.Z.success(t.Z.get({id:"main.pages.MCP.Manage.stoppingSuccessful",dm:"\u505C\u6B62\u6210\u529F"})),A();case 4:case"end":return r.stop()}},v)}));function y(){return o.apply(this,arguments)}return y}()})},Y=function(d){W.Z.warning({title:t.Z.get({id:"main.pages.MCP.Manage.confirmStartDeploymentOfThisService",dm:"\u786E\u8BA4\u542F\u52A8\u90E8\u7F72\u6B64\u670D\u52A1\u5417"}),cancelText:t.Z.get({id:"main.pages.MCP.Manage.cancel",dm:"\u53D6\u6D88"}),okText:t.Z.get({id:"main.pages.MCP.Manage.startDeployment",dm:"\u542F\u52A8\u90E8\u7F72"}),onOk:function(){var o=u()(n()().mark(function v(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,O.if)(D()(D()({},d),{},{status:M.YI.ENABLED}));case 2:T.Z.success(t.Z.get({id:"main.pages.MCP.Manage.startingSuccessful",dm:"\u542F\u52A8\u6210\u529F"})),A();case 4:case"end":return r.stop()}},v)}));function y(){return o.apply(this,arguments)}return y}()})},K=function(d,o){if(!(!d||!o))switch(d){case"delete":J(o);break;case"start":Y(o);break;case"stop":R(o);break;case"edit":g("/mcp/edit/".concat(o.server_code));break;case"detail":g("/mcp/detail/".concat(o.server_code));break;default:g("/mcp/detail/".concat(o.server_code))}},Q=function(d,o){A({pageNo:d,pageSize:o})};return(0,i.jsxs)("div",{className:ie.container,children:[(_==null||(b=_.list)===null||b===void 0?void 0:b.length)>0&&C((0,i.jsx)(H,{})),(0,i.jsx)(B.Z,{loading:_.loading,pagination:{current:_.pageNo,total:_.total,pageSize:_.pageSize,onChange:Q},emptyAction:(0,i.jsx)(H,{}),children:_.list.map(function(P){return(0,i.jsx)(se,{data:P,onClick:K},P.server_code)})})]})}},13341:function(q,N,a){a.d(N,{BF:function(){return x},I9:function(){return F},Pk:function(){return j},b4:function(){return O},c8:function(){return G},gi:function(){return W},if:function(){return D}});var w=a(12323),n=a.n(w),Z=a(63260),u=a.n(Z),h=a(46639);function x(s){return m.apply(this,arguments)}function m(){return m=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers",method:"POST",data:c});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),m.apply(this,arguments)}function D(s){return B.apply(this,arguments)}function B(){return B=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers",method:"PUT",data:c});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),B.apply(this,arguments)}function G(s){return t.apply(this,arguments)}function t(){return t=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers/".concat(c),method:"DELETE"});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),t.apply(this,arguments)}function O(s){return M.apply(this,arguments)}function M(){return M=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers/".concat(c.server_code),method:"GET",params:c});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),M.apply(this,arguments)}function j(s){return I.apply(this,arguments)}function I(){return I=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers",method:"GET",params:c});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),I.apply(this,arguments)}function W(s){return T.apply(this,arguments)}function T(){return T=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers/query-by-codes",method:"POST",data:c});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),T.apply(this,arguments)}function F(s){return U.apply(this,arguments)}function U(){return U=u()(n()().mark(function s(c){var l;return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.W)({url:"/console/v1/mcp-servers/debug-tools",method:"POST",data:c});case 2:return l=e.sent,e.abrupt("return",l.data);case 4:case"end":return e.stop()}},s)})),U.apply(this,arguments)}},76042:function(q,N,a){a.d(N,{YI:function(){return u},rR:function(){return x},w:function(){return h}});var w=a(87329),n=a.n(w),Z=a(22453),u=function(m){return m[m.DISABLED=0]="DISABLED",m[m.ENABLED=1]="ENABLED",m[m.DELETED=3]="DELETED",m}({}),h=n()(n()(n()({},u.DISABLED,{color:"error",text:Z.Z.get({id:"main.types.mcp.stopped",dm:"\u5DF2\u505C\u7528"})}),u.ENABLED,{color:"success",text:Z.Z.get({id:"main.types.mcp.started",dm:"\u5DF2\u542F\u52A8"})}),u.DELETED,{color:"default",text:Z.Z.get({id:"main.types.mcp.deleted",dm:"\u5DF2\u5220\u9664"})}),x=5}}]);

"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[9192],{6731:function(A,T,e){e.d(T,{Z:function(){return F}});var y=e(13311),c=e.n(y),D=e(74875),p=e.n(D),h=e(64251),a=e(73088),Z=e(91030),C=e(12524),P=e.n(C),M=e(2784),r={"slider-input":"slider-input____Rgz7","slider-marker":"slider-marker___SBC_d"},i=e(52322),I=["value","onChange","step","min","max","className","isShowMarker","style"],s=function(t){var m=t.value,x=t.onChange,_=t.step,f=t.min,b=t.max,d=t.className,K=t.isShowMarker,j=t.style,g=p()(t,I),E=function(n){n!==null&&(x==null||x(n))};return(0,i.jsxs)("div",{className:P()(r["slider-input"],d),children:[(0,i.jsxs)(Z.Z,{vertical:!0,children:[(0,i.jsx)(h.Z,c()({value:m,onChange:x,step:_,min:f,max:b,style:j},g)),K&&(0,i.jsxs)(Z.Z,{align:"center",justify:"space-between",className:r["slider-marker"],style:j,children:[(0,i.jsx)("div",{className:r["slider-marker"],children:f}),(0,i.jsx)("div",{className:r["slider-marker"],children:b})]})]}),(0,i.jsx)(a.Z,{step:_||.01,min:f,max:b,value:m,onChange:E,formatter:function(n){return Number.isInteger(_)?"".concat(Math.floor(Number(n))):"".concat(n)},parser:function(n){return Number.isInteger(_)?Math.floor(Number(n||0)):Number(n||0)}})]})},F=s},17942:function(A,T,e){var y=e(13311),c=e.n(y),D=e(42035),p=e.n(D),h=e(74875),a=e.n(h),Z=e(22453),C=e(2784),P=e(71783),M=e(87643),r=e(83317),i=e(52322),I=["data","index","mode","showSource"],s=function(v){var t=v.data,m=v.index,x=v.mode,_=v.showSource,f=a()(v,I),b=t.content,d=t.doc_name,K=(0,C.useState)(!1),j=p()(K,2),g=j[0],E=j[1],N=(0,C.useState)(!1),n=p()(N,2),u=n[0],l=n[1],S=function(){E(!g)};return(0,i.jsxs)("div",{className:r.Z["chunk-item"],children:[(0,i.jsx)(M.Z,c()({data:t,index:m,mode:x,showExpand:u,isExpanded:g,onExpand:S},f)),(0,i.jsx)(P.Z,{isExpanded:g,className:g?r.Z.expanded:"",content:b||"",onShowExpand:l}),_&&(0,i.jsxs)("div",{className:r.Z["chunk-source"],children:[Z.Z.get({id:"main.pages.Knowledge.Detail.components.ChunkItem.index.document",dm:"\u6587\u6863\uFF1A"}),d]})]})};T.Z=s},12017:function(A,T,e){e.r(T),e.d(T,{default:function(){return N}});var y=e(42035),c=e.n(y),D=e(882),p=e(76077),h=e(2784),a=e(22453),Z=e(65741),C=e(10289),P=e(12524),M=e.n(P),r={"chunk-list":"chunk-list___DDUes","chunk-list-header":"chunk-list-header___cvp2C","chunk-list-header-count":"chunk-list-header-count___IuGC8",empty:"empty___GHW3Y"},i=e(17942),I=e(51034),s=e(52322),F=function(u){var l=u.list,S=u.className;return(0,s.jsx)("div",{className:M()(r["chunk-list"],S),children:l!=null&&l.length?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:r["chunk-list-header"],children:[(0,s.jsx)("span",{children:a.Z.get({id:"main.pages.Knowledge.Test.components.ChunkList.index.recallResults",dm:"\u53EC\u56DE\u7ED3\u679C"})}),(0,s.jsx)("span",{className:r["chunk-list-header-count"],children:l==null?void 0:l.length})]}),l.map(function(o,O){return(0,s.jsx)(i.Z,{data:{title:o.title,content:o.text||"",score:o.score,doc_name:o.doc_name},index:O,showSimilarValue:!0,mode:"detail",showSource:!0},o.id)})]}):(0,s.jsx)("div",{className:r.empty,children:(0,s.jsx)(I.Z,{title:a.Z.get({id:"main.pages.Knowledge.Test.components.ChunkList.index.noData",dm:"\u6682\u65E0\u6570\u636E"}),description:a.Z.get({id:"main.pages.Knowledge.Test.components.ChunkList.index.enterContentLeftClickTest",dm:"\u8BF7\u5728\u5DE6\u4FA7\u8F93\u5165\u5185\u5BB9\uFF0C\u70B9\u51FB\u6D4B\u8BD5\u8FDB\u884C\u7ED3\u679C\u67E5\u770B"})})})})},v=F,t=e(6731),m=e(58541),x=e(73306),_=e(45753),f=e(4513),b=e(72624),d={"form-container":"form-container___u8DqP","form-title":"form-title___vdKgW","form-item-label":"form-item-label___TRDD4","info-icon":"info-icon___hQJc3","submit-button":"submit-button___GR30S","form-item-submit":"form-item-submit___iONNq"},K={similarity_threshold:.2,input:""},j=function(u){var l=u.onSubmit,S=u.className,o=u.similarity_threshold,O=m.Z.useForm(),R=c()(O,1),L=R[0];return(0,h.useEffect)(function(){L.setFieldsValue({similarity_threshold:o})},[o]),(0,s.jsx)("div",{className:M()(d["form-container"],S),children:(0,s.jsxs)(m.Z,{form:L,layout:"vertical",onFinish:l,initialValues:K,children:[(0,s.jsx)("div",{className:d["form-title"],children:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.databaseConfigDebug",dm:"\u6570\u636E\u5E93\u914D\u7F6E\u8C03\u8BD5"})}),(0,s.jsx)(m.Z.Item,{label:(0,s.jsxs)("div",{className:d["form-item-label"],children:[(0,s.jsx)("span",{children:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.similarityThreshold",dm:"\u76F8\u4F3C\u5EA6\u9608\u503C"})}),(0,s.jsx)(x.Z,{title:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.thresholdMeasureSimilarity",dm:"\u7528\u4E8E\u8861\u91CF\u6587\u672C\u6216\u6570\u636E\u95F4\u76F8\u4F3C\u7A0B\u5EA6\u7684\u4E34\u754C\u503C,\u5F53\u8BA1\u7B97\u51FA\u7684\u6587\u672C\u76F8\u4F3C\u5EA6\u8FBE\u5230\u6216\u8D85\u8FC7\u8BE5\u503C\u65F6\uFF0C\u4F1A\u8FD4\u56DE\u8BE5\u6587\u672C \u3002"}),placement:"rightBottom",children:(0,s.jsx)(_.Z,{type:"spark-info-line",className:d["info-icon"]})})]}),name:"similarity_threshold",rules:[{required:!0,message:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.enterSimilarityThreshold",dm:"\u8BF7\u8F93\u5165\u76F8\u4F3C\u5EA6\u9608\u503C"})}],children:(0,s.jsx)(t.Z,{min:.01,max:.99,step:.01})}),(0,s.jsx)(m.Z.Item,{label:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.input",dm:"\u8F93\u5165"}),name:"query",rules:[{required:!0,message:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.enter",dm:"\u8BF7\u8F93\u5165"})}],children:(0,s.jsx)(f.Z.TextArea,{placeholder:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.enter",dm:"\u8BF7\u8F93\u5165"}),className:d["text-area"],autoSize:{minRows:4,maxRows:4}})}),(0,s.jsx)(m.Z.Item,{className:d["form-item-submit"],children:(0,s.jsx)(b.Z,{type:"default",icon:(0,s.jsx)(_.Z,{type:"spark-testing-line"}),className:d["submit-button"],htmlType:"submit",children:a.Z.get({id:"main.pages.Knowledge.Test.components.Form.index.test",dm:"\u6D4B\u8BD5"})})})]})})},g=j,E={container:"container___evVD7"};function N(){var n,u=(0,C.UO)(),l=u.kb_id,S=(0,h.useState)([]),o=c()(S,2),O=o[0],R=o[1],L=(0,h.useState)(!1),B=c()(L,2),w=B[0],V=B[1],G=(0,h.useState)({}),k=c()(G,2),W=k[0],H=k[1],$=function(U){var J={query:U.query,search_options:{kb_ids:[l],similarity_threshold:U.similarity_threshold}};(0,p.bN)(J).then(function(Q){R(Q),V(!0)})};return(0,Z.Z)(function(){return(0,p.mB)(l)},{onSuccess:function(U){H(U)}}),(0,s.jsx)(D.Z,{breadcrumbLinks:[{title:a.Z.get({id:"main.pages.Knowledge.Test.index.knowledgeBase",dm:"\u77E5\u8BC6\u5E93"}),path:"/knowledge"},{title:a.Z.get({id:"main.pages.Knowledge.Test.index.hitTest",dm:"\u547D\u4E2D\u6D4B\u8BD5"})}],children:(0,s.jsxs)("div",{className:E.container,children:[(0,s.jsx)(g,{className:E.form,onSubmit:$,similarity_threshold:W==null||(n=W.search_config)===null||n===void 0?void 0:n.similarity_threshold}),w&&(0,s.jsx)(v,{className:E["chunk-list"],list:O})]})})}}}]);

"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[683],{882:function(K,I,e){e.d(I,{Z:function(){return i}});var A=e(87329),p=e.n(A),D=e(42035),m=e.n(D),O=e(73306),R=e(16212),N=e(72624),C=e(45753),B=e(78308),d=e(29264),h=e(91030),b=e(74465),y=e(12524),o=e.n(y),u=e(30745),g=e(2784),J=e(10289),a={"inner-layout":"inner-layout___P7GdA","full-screen-mode":"full-screen-mode___VpW9T",divider:"divider___BgZiJ",header:"header___AUo9J",left:"left___yFVqN",right:"right___jUk4I","back-icon":"back-icon___P8UDA","left-content":"left-content___eNzE_",middle:"middle___LJSwr","tour-button-container":"tour-button-container___TCrja","tour-button":"tour-button___k7jrB","tour-panel-container":"tour-panel-container___dkHzB","tour-panel":"tour-panel___FaE7m","tour-item":"tour-item___L65NN",index:"index___GA7br","tour-title":"tour-title___zFGKk","tour-description":"tour-description___u0jJN","content-area":"content-area___Ry2A6",bottom:"bottom___eJ4RM","vertical-center":"vertical-center___sK41x","breadcrumb-link":"breadcrumb-link___fG6My",ellipsis:"ellipsis___j5ODY",tabs:"tabs___v84oo",loading:"loading___BbHX2"},r=e(52322),z=200,U=function(t){var s=t.item,c=t.navigate,L=t.classname,P=t.style,T=typeof s.title=="string"?s.title:"",f=(0,g.useRef)(null),E=(0,g.useState)(!1),x=m()(E,2),$=x[0],n=x[1];(0,g.useEffect)(function(){if(f.current&&T.length>0){var Z=f.current.offsetWidth;n(Z>=z)}},[T]);var F=(0,r.jsx)("span",{ref:f,className:o()(L,o()(a["breadcrumb-link"],p()({},a.ellipsis,typeof s.title=="string"))),style:P,children:s.onClick?(0,r.jsx)("a",{onClick:function(G){return s.onClick(G)},children:s.title}):s.href?(0,r.jsx)("a",{href:s.href,children:s.title}):s.path?(0,r.jsx)("a",{onClick:function(){return c(s.path)},children:s.title}):(0,r.jsx)("span",{children:s.title})});return $?(0,r.jsx)(O.Z,{mode:"dark",title:T,placement:"bottom",mouseEnterDelay:.5,children:F}):F},v=function(t){var s,c=t.breadcrumbLinks,L=t.left,P=t.right,T=t.tabs,f=t.loading,E=f===void 0?!1:f,x=t.children,$=t.activeTab,n=t.onTabChange,F=t.contentAreaClassName,Z=t.fullScreen,G=Z===void 0?!1:Z,V=t.simplifyBreadcrumb,ie=V===void 0?!1:V,Y=t.tours,H=Y===void 0?[]:Y,Q=t.bottom,le=t.style,w=t.destroyInactiveTabPanel,oe=w===void 0?!0:w,q=t.styles,S=q===void 0?{}:q,ee=t.classnames,k=ee===void 0?{}:ee,re=(0,J.s0)(),ue=(0,g.useState)(!1),te=m()(ue,2),X=te[0],de=te[1],ce=(0,g.useState)(G),ne=m()(ce,2),W=ne[0],ae=ne[1],me=(0,g.useState)(!1),se=m()(me,2),ve=se[0],fe=se[1];(0,g.useEffect)(function(){setTimeout(function(){fe(!0)})},[]);var he=function(_){n&&n(_)},ge=function(){if(!Array.isArray(T))return null;var _=T.map(function(M){return(0,u.Z)(M,["children"])});return(0,r.jsx)(R.Z,{activeKey:$,onChange:he,items:_,centered:!0,type:"segmented",destroyInactiveTabPane:oe,className:a.tabs})},_e=function(){if(c&&c.length>=2){var _=c[c.length-2];_.path&&re(_.path)}ye()},pe=function(){if(!c||c.length===0)return null;var _=function(ke){return(0,r.jsx)(U,{item:ke,navigate:re,classname:k==null?void 0:k.breadcrumb,style:S==null?void 0:S.breadcrumb})};if(W||ie){var M=c[c.length-1];return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(N.Z,{className:a["back-icon"],onClick:_e,children:(0,r.jsx)(C.Z,{type:"spark-leftArrow-line"})}),(0,r.jsx)(d.Z,{items:[M],itemRender:_})]})}return(0,r.jsx)(d.Z,{items:c,itemRender:_})},be=function(){ae(!W)},ye=function(){ae(!1)},je=function(){de(!X)},Te=function(){return!H||H.length===0?null:(0,r.jsxs)("div",{className:a["tour-button-container"],children:[(0,r.jsx)(B.Z,{bordered:!1,icon:(0,r.jsx)(C.Z,{type:X?"spark-fold-line-2":"spark-fold-line"}),onClick:je}),X&&(0,r.jsx)("div",{className:a["tour-panel-container"],children:(0,r.jsx)("div",{className:a["tour-panel"],children:H.map(function(_,M){return(0,r.jsxs)("div",{className:a["tour-item"],children:[(0,r.jsx)("div",{className:a.index,children:M+1}),(0,r.jsx)("div",{className:a["tour-title"],children:_.title}),(0,r.jsx)("div",{className:a["tour-description"],children:_.description})]},M)})})})]})},Se=function(){return G&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:a.divider}),(0,r.jsx)(B.Z,{bordered:!1,icon:W?"spark-exitFullscreen-line":"spark-fullscreen-line",onClick:be})]})};return(0,r.jsxs)("div",{id:"InnerLayout",className:o()(a["inner-layout"],p()({},a["full-screen-mode"],W)),style:le,children:[(0,r.jsxs)("div",{className:o()(a.header,k.header),style:S.header,children:[(0,r.jsxs)("div",{className:o()(a.left,k.left),style:S.left,children:[pe(),(0,r.jsx)("div",{className:a["left-content"],children:L})]}),(0,r.jsx)("div",{className:o()(a.middle,a["vertical-center"],k.middle),style:S.middle,children:ge()}),(0,r.jsxs)("div",{className:o()(a.right,k.right),style:S.right,children:[Te(),(0,r.jsx)(h.Z,{gap:12,id:"InnerLayoutRight",className:a["right-content"],children:P}),Se()]})]}),ve&&(0,r.jsx)("div",{className:o()(a["content-area"],F,k.contentArea),style:S.contentArea,children:(0,r.jsxs)(b.Z,{spinning:E,rootClassName:a.loading,children:[Array.isArray(T)?(s=T.find(function(j){return j.key===$}))===null||s===void 0?void 0:s.children:null,x]})}),(0,r.jsx)("div",{id:"InnerLayoutBottom",className:o()(p()({},a.bottom,!!Q),k.bottom),style:S.bottom,children:Q})]})},i=v},46639:function(K,I,e){e.d(I,{W:function(){return A.ZP}});var A=e(85545)},85545:function(K,I,e){e.d(I,{v2:function(){return u},ZP:function(){return z},nP:function(){return b.n}});var A=e(13311),p=e.n(A),D=e(12323),m=e.n(D),O=e(63260),R=e.n(O),N=e(22453),C=e(18900),B=e(18561),d=e(21749),h={error:"error___zGtyb"},b=e(87645),y=e(52322),o="",u={set:function(i){o=i},get:function(){return o}};u.set("http://127.0.0.1:8080");var g=d.Z.create({baseURL:u.get(),timeout:60*1e3,headers:{}});function J(){return a.apply(this,arguments)}function a(){return a=R()(m()().mark(function v(){var i,l;return m()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return i={"Accept-Language":N.Z.getCurrentLanguage()},s.next=3,b.n.asyncGet();case 3:return l=s.sent,l&&(i.Authorization="Bearer "+l),s.abrupt("return",i);case 6:case"end":return s.stop()}},v)})),a.apply(this,arguments)}function r(v){var i,l,t;C.ZP.error({className:h.error,message:((i=v.response)===null||i===void 0||(i=i.data)===null||i===void 0?void 0:i.code)||v.message,description:(0,y.jsxs)(B.Z,{direction:"vertical",children:[(0,y.jsx)("div",{children:(l=v.response)===null||l===void 0||(l=l.data)===null||l===void 0?void 0:l.message}),(0,y.jsx)("div",{children:(t=v.response)===null||t===void 0||(t=t.data)===null||t===void 0?void 0:t.request_id})]})})}function z(v){return U.apply(this,arguments)}function U(){return U=R()(m()().mark(function v(i){var l,t,s,c,L,P;return m()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return P=function(){return P=R()(m()().mark(function x(){return m()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=g,n.t1=p(),n.t2=p()({},i),n.t3={},n.t4=p(),n.t5=p()({},t),n.next=8,J();case 8:return n.t6=n.sent,n.t7=(0,n.t4)(n.t5,n.t6),n.t8={headers:n.t7},n.t9=(0,n.t1)(n.t2,n.t3,n.t8),n.abrupt("return",n.t0.request.call(n.t0,n.t9));case 13:case"end":return n.stop()}},x)})),P.apply(this,arguments)},L=function(){return P.apply(this,arguments)},l=i.headers,t=l===void 0?{}:l,s=i.autoMsg,c=s===void 0?!0:s,f.next=5,L().catch(function(E){throw c&&r(E),E});case 5:return f.abrupt("return",f.sent);case 6:case"end":return f.stop()}},v)})),U.apply(this,arguments)}},87645:function(K,I,e){e.d(I,{n:function(){return C}});var A=e(12323),p=e.n(A),D=e(63260),m=e.n(D),O=e(21749),R=e(85545),N="data-prefers-session",C={set:function(d){var h=d.access_token,b=d.expires_in,y=d.refresh_token,o={access_token:h,refresh_token:y,expires_time:b*1e3};localStorage.setItem(N,JSON.stringify(o))},clear:function(){localStorage.removeItem(N)},get:function(){var d=localStorage.getItem(N);if(!d)return"";if(d){var h=JSON.parse(d);return h.access_token}},asyncGet:function(){return m()(p()().mark(function d(){var h,b,y;return p()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(h=localStorage.getItem(N),h){u.next=3;break}return u.abrupt("return","");case 3:if(!h){u.next=11;break}if(b=JSON.parse(h),!(b.expires_time>Date.now())){u.next=9;break}return u.abrupt("return",b.access_token);case 9:return y=b.refresh_token,u.abrupt("return",O.Z.request({baseURL:R.v2.get(),method:"POST",url:"/console/v1/auth/refresh-token",data:{refresh_token:y}}).then(function(g){return C.set(g.data.data),g.data.data.access_token}).catch(function(){return C.clear(),""}));case 11:case"end":return u.stop()}},d)}))()}}}}]);

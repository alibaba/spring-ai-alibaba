"use strict";(self.webpackChunkmain=self.webpackChunkmain||[]).push([[5926],{51034:function(xe,U,a){a.d(U,{Z:function(){return M}});var ee=a(99604),C=a(18561),te=a(42520),G=["css"];function L(n){"@babel/helpers - typeof";return L=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L(n)}function v(n,t){if(n==null)return{};var o=ie(n,t),d,e;if(Object.getOwnPropertySymbols){var j=Object.getOwnPropertySymbols(n);for(e=0;e<j.length;e++)d=j[e],!(t.indexOf(d)>=0)&&Object.prototype.propertyIsEnumerable.call(n,d)&&(o[d]=n[d])}return o}function ie(n,t){if(n==null)return{};var o={},d=Object.keys(n),e,j;for(j=0;j<d.length;j++)e=d[j],!(t.indexOf(e)>=0)&&(o[e]=n[e]);return o}function h(n,t,o){return t=V(t),t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function V(n){var t=i(n,"string");return L(t)=="symbol"?t:String(t)}function i(n,t){if(L(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var d=o.call(n,t||"default");if(L(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}function D(n){var t=n.sparkPrefix,o=n.antPrefix;return h(h(h(h({},".".concat(t,"-empty"),{display:"flex",flexDirection:"column",alignItems:"center",overflow:"hidden",position:"relative"}),".".concat(t,"-empty-image"),{position:"absolute",top:0,left:0}),".".concat(t,"-empty-title"),{fontSize:"16px",fontWeight:500,lineHeight:"24px",color:"var(--".concat(o,"-color-text)")}),".".concat(t,"-empty-description"),{fontSize:"12px",lineHeight:"20px",color:"var(--".concat(o,"-color-text-secondary)"),textAlign:"center",width:"100%"})}var B=(0,te.Z)(function(n){var t=n.css,o=v(n,G),d=t(D(o));return d}),ne=B,_=a(52322);function w(n){"@babel/helpers - typeof";return w=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w(n)}function y(n,t){var o=Object.keys(n);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(n);t&&(d=d.filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})),o.push.apply(o,d)}return o}function F(n){for(var t=1;t<arguments.length;t++){var o=arguments[t]!=null?arguments[t]:{};t%2?y(Object(o),!0).forEach(function(d){re(n,d,o[d])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(o)):y(Object(o)).forEach(function(d){Object.defineProperty(n,d,Object.getOwnPropertyDescriptor(o,d))})}return n}function re(n,t,o){return t=ae(t),t in n?Object.defineProperty(n,t,{value:o,enumerable:!0,configurable:!0,writable:!0}):n[t]=o,n}function ae(n){var t=oe(n,"string");return w(t)=="symbol"?t:String(t)}function oe(n,t){if(w(n)!="object"||!n)return n;var o=n[Symbol.toPrimitive];if(o!==void 0){var d=o.call(n,t||"default");if(w(d)!="object")return d;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(n)}var Z={noData:"https://img.alicdn.com/imgextra/i4/O1CN01qm1zhR1py4tZpeLOK_!!6000000005428-55-tps-320-320.svg",networkError:"https://img.alicdn.com/imgextra/i2/O1CN01HY34oi1q2er9aaWpA_!!6000000005438-55-tps-320-320.svg",404:"https://img.alicdn.com/imgextra/i3/O1CN01TPFp1X1ehAV2IsEMB_!!6000000003902-55-tps-320-320.svg",arrears:"https://img.alicdn.com/imgextra/i4/O1CN01jC4UI61nxxYtrLmM7_!!6000000005157-55-tps-320-320.svg",desktopOnly:"https://img.alicdn.com/imgextra/i4/O1CN01fMFPPo1yNHcQwVEJt_!!6000000006566-55-tps-320-320.svg",noAudio:"https://img.alicdn.com/imgextra/i4/O1CN01kSn3DO1FEtem7KqEK_!!6000000000456-55-tps-320-320.svg",noImage:"https://img.alicdn.com/imgextra/i3/O1CN01okeTiT1NcGnMrWNlm_!!6000000001590-55-tps-320-320.svg",noVideo:"https://img.alicdn.com/imgextra/i2/O1CN01ZHIhrj1GEj7qJflaq_!!6000000000591-55-tps-320-320.svg",noAccess:"https://img.alicdn.com/imgextra/i3/O1CN01FGWsQy1fbxbyHP94r_!!6000000004026-55-tps-320-320.svg",error:"https://img.alicdn.com/imgextra/i2/O1CN01Q4Dz8b1Wo1V23Dv0A_!!6000000002834-55-tps-320-320.svg",noModel:"https://img.alicdn.com/imgextra/i2/O1CN018oR5y01iQ07Idabna_!!6000000004406-55-tps-320-320.svg",noApp:"https://img.alicdn.com/imgextra/i2/O1CN01dzp21223wcFg1wkjt_!!6000000007320-55-tps-320-320.svg",success:"https://img.alicdn.com/imgextra/i1/O1CN01Pg1Vl71zVoc3AQkio_!!6000000006720-55-tps-320-320.svg",failed:"https://img.alicdn.com/imgextra/i4/O1CN01TGuQnl28xbBAyDNih_!!6000000007999-55-tps-320-320.svg",inProgress:"https://img.alicdn.com/imgextra/i2/O1CN01yXqCMX1HBLp0T8V5R_!!6000000000719-55-tps-320-320.svg",stayTuned:"https://img.alicdn.com/imgextra/i3/O1CN01y47MFi1ztdDLdXmrl_!!6000000006772-55-tps-320-320.svg"},de={noData:"https://img.alicdn.com/imgextra/i4/O1CN01cTXUzR1P5s0yXRn1O_!!6000000001790-55-tps-320-320.svg",networkError:"https://img.alicdn.com/imgextra/i4/O1CN01oMTHAF1LTRwTGF7fw_!!6000000001300-55-tps-320-320.svg",404:"https://img.alicdn.com/imgextra/i1/O1CN01ASsvBe1tzgl3sfCh1_!!6000000005973-55-tps-320-320.svg",arrears:"https://img.alicdn.com/imgextra/i3/O1CN01N3vSCz1lO7LBVRU7Q_!!6000000004808-55-tps-320-320.svg",desktopOnly:"https://img.alicdn.com/imgextra/i3/O1CN01MjNfq81Qe3BiW8dug_!!6000000002000-55-tps-320-320.svg",noAudio:"https://img.alicdn.com/imgextra/i2/O1CN01ppreOi1yF2UnUymPT_!!6000000006548-55-tps-320-320.svg",noImage:"https://img.alicdn.com/imgextra/i1/O1CN01vm2wI81YTzPkFz3oJ_!!6000000003061-55-tps-320-320.svg",noVideo:"https://img.alicdn.com/imgextra/i3/O1CN010LzntT1raq2DjLOoz_!!6000000005648-55-tps-320-320.svg",noAccess:"https://img.alicdn.com/imgextra/i3/O1CN01bYIfYw1kKchfqzPFH_!!6000000004665-55-tps-320-320.svg",error:"https://img.alicdn.com/imgextra/i4/O1CN01bezSba1kQZqwParbT_!!6000000004678-55-tps-320-320.svg",noModel:"https://img.alicdn.com/imgextra/i4/O1CN01o19hSJ1gSdAJbgMh9_!!6000000004141-55-tps-320-320.svg",noApp:"https://img.alicdn.com/imgextra/i3/O1CN01t62bmW1fIGaRbHvZK_!!6000000003983-55-tps-320-320.svg",success:"https://img.alicdn.com/imgextra/i4/O1CN01QD9QKH1iF0cKAjRGM_!!6000000004382-55-tps-320-320.svg",failed:"https://img.alicdn.com/imgextra/i3/O1CN01oP8KsM1Eon5UR8SNz_!!6000000000399-55-tps-320-320.svg",inProgress:"https://img.alicdn.com/imgextra/i2/O1CN01jmvRGi23EeEbF9J24_!!6000000007224-55-tps-320-320.svg",stayTuned:"https://img.alicdn.com/imgextra/i2/O1CN01ZnedUV1csxTDLAVGE_!!6000000003657-55-tps-320-320.svg"},u=function(t){var o=t.imageStyle,d=t.title,e=t.description,j=e===void 0?"No Data":e,$=t.children,Q=t.size,K=Q===void 0?320:Q,le=t.type||"noData",p=(0,ee.sA)(),z=p.sparkPrefix,W=p.isDarkMode,se=t.image||(W?de:Z)[le];return ne(),(0,_.jsxs)("div",{className:"".concat(z,"-empty ").concat(t.className||""),style:F(F({},o),{},{width:K,height:K}),children:[(0,_.jsx)("img",{className:"".concat(z,"-empty-image"),style:{width:K,height:K},src:W?"https://img.alicdn.com/imgextra/i3/O1CN01fGTIbG1uWfH3z5OMj_!!6000000006045-55-tps-320-320.svg":"https://img.alicdn.com/imgextra/i1/O1CN01vleD7m1cMRLIohieZ_!!6000000003586-55-tps-320-320.svg"}),(0,_.jsx)("img",{src:se,alt:"empty",className:"".concat(z,"-empty-image"),style:{width:K,height:K}}),(0,_.jsxs)(C.Z,{direction:"vertical",align:"center",style:{marginTop:"56.25%"},children:[d&&(0,_.jsx)("div",{className:"".concat(z,"-empty-title"),children:d}),j&&(0,_.jsx)("div",{className:"".concat(z,"-empty-description"),children:j}),!!$&&$]})]})},M=u},62303:function(xe,U,a){a.r(U),a.d(U,{default:function(){return Me}});var ee=a(12323),C=a.n(ee),te=a(63260),G=a.n(te),L=a(13311),v=a.n(L),ie=a(42035),h=a.n(ie),V=a(882),i=a(22453),D=a(18809),B={vision:i.Z.get({id:"main.types.modelService.visual",dm:"\u89C6\u89C9"}),web_search:i.Z.get({id:"main.types.modelService.connected",dm:"\u8054\u7F51"}),embedding:i.Z.get({id:"main.types.modelService.embedded",dm:"\u5D4C\u5165"}),reasoning:i.Z.get({id:"main.types.modelService.inference",dm:"\u63A8\u7406"}),function_call:i.Z.get({id:"main.types.modelService.tool",dm:"\u5DE5\u5177"})},ne=a(92748),_=a(17932),w=a(11246),y=a(19612),F=a(72624),re=a(51034),ae=a(74465),oe=a(92782),Z=a(2784),de=a(44433),u={container:"container___KgU3Y",info:"info___OTdX9",title:"title___cbXOC","table-container":"table-container___B3ur6",table:"table___Imlec","table-header":"table-header___rLZlA","table-title":"table-title___Genod",count:"count___s4QS4",disabled:"disabled___T9JYi","model-name":"model-name___wlJFO","model-icon":"model-icon___l1d7y",capabilities:"capabilities___hm4J6","action-buttons":"action-buttons___KBwkG","api-card":"api-card___HdGNA","form-item":"form-item___B9iIK",label:"label___e328f",required:"required___Y0lWs","link-wrapper":"link-wrapper___cA_tT",link:"link___qlBy6",icon:"icon___UxsNG"},M=a(58541),n=a(84546),t=a(4513),o=a(35899),d={container:"container____hfR9","form-item":"form-item___DCglI",error:"error___kne9Y","capability-options":"capability-options___uHzvs"},e=a(52322),j=function(x){var r=x.open,I=x.onCancel,P=x.onOk,N=x.model,A=x.title,E=M.Z.useForm(),R=h()(E,1),O=R[0],Y=!!(N!=null&&N.model_id);(0,Z.useEffect)(function(){r&&(N?O.setFieldsValue({name:N.name||"",tags:N.tags||[]}):O.resetFields())},[r,N,O]);var H=function(){O.validateFields().then(function(s){var g=v()(v()({},N||{}),{},{name:s.name,model_id:s.name,tags:s.tags});P(g)})};return(0,e.jsx)(n.Z,{title:A||(Y?i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.editModel",dm:"\u7F16\u8F91\u6A21\u578B"}):i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.addModel",dm:"\u65B0\u589E\u6A21\u578B"})),open:r,onCancel:I,footer:[(0,e.jsx)(F.Z,{onClick:I,children:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.cancel",dm:"\u53D6\u6D88"})},"cancel"),(0,e.jsx)(F.Z,{type:"primary",onClick:H,children:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.confirm",dm:"\u786E\u8BA4"})},"submit")],width:480,destroyOnClose:!0,children:(0,e.jsx)("div",{className:d.container,children:(0,e.jsxs)(M.Z,{form:O,layout:"vertical",requiredMark:!1,children:[(0,e.jsx)(M.Z.Item,{name:"name",label:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.modelName",dm:"\u6A21\u578B\u540D\u79F0"}),rules:[{required:!0,message:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.enterModelName",dm:"\u8BF7\u8F93\u5165\u6A21\u578B\u540D\u79F0"})}],children:(0,e.jsx)(t.Z,{placeholder:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.enterModelName",dm:"\u8BF7\u8F93\u5165\u6A21\u578B\u540D\u79F0"}),maxLength:50,showCount:!0})}),(0,e.jsx)(M.Z.Item,{name:"tags",label:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.modelAbility",dm:"\u6A21\u578B\u80FD\u529B"}),rules:[{required:!0,message:i.Z.get({id:"main.pages.Setting.ModelService.components.ModelConfigModal.index.selectAtLeastOneAbility",dm:"\u8BF7\u9009\u62E9\u81F3\u5C11\u4E00\u4E2A\u6A21\u578B\u80FD\u529B"})}],children:(0,e.jsx)(o.Z.Group,{children:(0,e.jsx)("div",{className:d["capability-options"],children:Object.entries(B).map(function(T){var s=h()(T,2),g=s[0],J=s[1];return(0,e.jsx)(o.Z,{value:g,children:J},g)})})})})]})})})},$=j,Q=a(28468),K=a(85480),le=a(64892),p={wrapper:"wrapper___PzNY0",form:"form___ahjCG","form-row":"form-row___YG8W7","form-item":"form-item___BD_4j","provider-avatar":"provider-avatar___Dkt8H",content:"content___uOl7x","status-tag":"status-tag___nfFO6",dot:"dot___vkVFf",label:"label___FINhb",required:"required___nhNpp",link:"link___fPxMf",actions:"actions___bKhkW"},z=function(x){var r=x.provider,I=x.onEnableService;return(0,e.jsxs)("div",{className:p.label,children:[(0,e.jsxs)("div",{className:p.labelContent,children:[i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.modelServiceProviderName",dm:"\u6A21\u578B\u670D\u52A1\u5546\u540D\u79F0"}),(0,e.jsx)("div",{className:p.required,children:"*"})]}),(0,e.jsxs)("div",{className:p.actions,children:[(0,e.jsxs)("div",{className:p["status-tag"],"data-status":r!=null&&r.enable?"enabled":"disabled",children:[(0,e.jsx)("span",{className:p.dot}),(0,e.jsx)("span",{children:r!=null&&r.enable?i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.started",dm:"\u5DF2\u542F\u52A8"}):i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.stopped",dm:"\u5DF2\u505C\u7528"})})]}),(0,e.jsx)(F.Z,{onClick:function(){return I(!(r!=null&&r.enable))},children:r!=null&&r.enable?i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.stopService",dm:"\u505C\u6B62\u670D\u52A1"}):i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.startService",dm:"\u542F\u52A8\u670D\u52A1"})})]})]})},W=function(x){var r=x.provider,I=x.providerId,P=x.onRefresh,N=M.Z.useForm(),A=h()(N,1),E=A[0],R=(r==null?void 0:r.source)==="preset";(0,Z.useEffect)(function(){O()},[r,E]);var O=function(){var s,g;r&&E.setFieldsValue({name:r==null?void 0:r.name,apiKey:(r==null||(s=r.credential)===null||s===void 0?void 0:s.api_key)||"",endpoint:(r==null||(g=r.credential)===null||g===void 0?void 0:g.endpoint)||""})},Y=function(){E.validateFields().then(function(s){!I||!r||(0,D.P0)(I,v()(v()({},r),{},{name:s.name,credential_config:{api_key:s.apiKey,endpoint:s.endpoint}})).then(function(g){g&&(y.Z.success(i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.configurationUpdated",dm:"\u914D\u7F6E\u5DF2\u66F4\u65B0"})),P==null||P())})})},H=function(){var T=G()(C()().mark(function s(g){return C()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(r){k.next=2;break}return k.abrupt("return");case 2:return k.next=4,E.validateFields();case 4:w.Z.warning({title:g?i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.startService",dm:"\u542F\u52A8\u670D\u52A1"}):i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.stopService",dm:"\u505C\u6B62\u670D\u52A1"}),children:g?i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.confirmStartService",dm:"\u786E\u5B9A\u8981\u542F\u52A8\u5F53\u524D\u670D\u52A1\u5417\uFF1F"}):i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.confirmStopService",dm:"\u786E\u5B9A\u8981\u505C\u6B62\u5F53\u524D\u670D\u52A1\u5417\uFF1F\u505C\u6B62\u540E\u5C06\u65E0\u6CD5\u4F7F\u7528\u8BE5\u670D\u52A1\u7684\u6A21\u578B\u3002"}),onOk:function(){(0,D.P0)(I,v()(v()({},r),{},{enable:g,credential_config:r.credential})).then(function(me){me&&(y.Z.success(i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.stopServiceSuccess",dm:"\u505C\u6B62\u670D\u52A1\u6210\u529F"})),P==null||P())})}});case 5:case"end":return k.stop()}},s)}));return function(g){return T.apply(this,arguments)}}();return(0,e.jsx)("div",{className:p.wrapper,children:(0,e.jsx)("div",{className:p.content,children:(0,e.jsxs)(M.Z,{form:E,layout:"vertical",onFinish:Y,className:p.form,children:[(0,e.jsxs)("div",{className:p["form-row"],children:[(0,e.jsx)(le.d,{className:p["provider-avatar"],provider:r}),(0,e.jsx)(M.Z.Item,{name:"name",label:(0,e.jsx)(z,{provider:r,onEnableService:H}),rules:[{required:!0,message:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.enterModelServiceProviderName",dm:"\u8BF7\u8F93\u5165\u6A21\u578B\u670D\u52A1\u5546\u540D\u79F0"})}],required:!1,className:p["form-item"],children:(0,e.jsx)(t.Z,{placeholder:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.inputModelServiceProviderName",dm:"\u8F93\u5165\u6A21\u578B\u670D\u52A1\u5546\u540D\u79F0"}),maxLength:30,disabled:R})})]}),(0,e.jsx)(M.Z.Item,{name:"apiKey",label:"API-KEY",rules:[{required:!0,message:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.apiKeyRequired",dm:"\u9700\u8981\u586B\u5199API-KEY\u9A8C\u8BC1\u51ED\u8BC1\u624D\u80FD\u8C03\u7528\u8FDC\u7A0B\u6A21\u578B\u670D\u52A1"})}],required:!0,children:(0,e.jsx)(t.Z.Password,{placeholder:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.enterApiKey",dm:"\u8F93\u5165\u60A8\u7684API-KEY"})})}),(0,e.jsx)(M.Z.Item,{name:"endpoint",label:"API URL",rules:[{required:!0,message:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.apiUrlRequired",dm:"\u9700\u8981\u586B\u5199API URL\u624D\u80FD\u8C03\u7528\u8FDC\u7A0B\u6A21\u578B\u670D\u52A1"})}],required:!0,children:(0,e.jsx)(t.Z.TextArea,{rows:2,placeholder:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.enterApiUrl",dm:"\u8F93\u5165\u60A8\u7684API URL\uFF0C\u8BF7\u5728\u670D\u52A1\u5546\u6587\u6863\u4E2D\u83B7\u53D6\uFF0C\u5982https://dashscope.aliyuncs.com/compatible-mode"})})}),(0,e.jsx)(M.Z.Item,{children:(0,e.jsx)(Q.Z,{title:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.howToGetModelServiceApi",dm:"\u5982\u4F55\u83B7\u53D6\u6A21\u578B\u670D\u52A1API\uFF1F"}),sections:K.F})}),(0,e.jsx)(M.Z.Item,{children:(0,e.jsxs)("div",{className:p.actions,children:[(0,e.jsx)(F.Z,{type:"primary",htmlType:"submit",children:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.save",dm:"\u4FDD\u5B58"})}),(0,e.jsx)(F.Z,{htmlType:"button",onClick:O,children:i.Z.get({id:"main.pages.Setting.ModelService.components.ProviderInfoForm.index.cancel",dm:"\u53D6\u6D88"})})]})})]})})})},se=W,ye=function(){var x=(0,de.UO)(),r=x.id,I=(0,Z.useState)(!1),P=h()(I,2),N=P[0],A=P[1],E=(0,Z.useState)(void 0),R=h()(E,2),O=R[0],Y=R[1],H=(0,Z.useState)(null),T=h()(H,2),s=T[0],g=T[1],J=(0,Z.useState)([]),k=h()(J,2),X=k[0],me=k[1],be=(0,Z.useState)(!0),ge=h()(be,2),ve=ge[0],pe=ge[1],Ze=(0,Z.useState)(!0),ue=h()(Ze,2),je=ue[0],fe=ue[1],Se=function(){r&&(pe(!0),(0,D.$2)(r).then(function(l){l!=null&&l.data&&g(l.data)}).finally(function(){pe(!1)}))};(0,Z.useEffect)(function(){Se()},[r]);var q=function(){r&&(fe(!0),(0,D.h1)(r).then(function(l){l!=null&&l.data&&me(l.data)}).finally(function(){fe(!1)}))};(0,Z.useEffect)(function(){q()},[r]);var Pe=[{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelName",dm:"\u6A21\u578B\u540D\u79F0"}),dataIndex:"name",key:"name",render:function(l){return(0,e.jsx)("div",{className:u["model-name"],children:(0,e.jsx)("span",{children:l})})}},{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelType",dm:"\u6A21\u578B\u7C7B\u578B"}),dataIndex:"type",key:"type"},{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelAbility",dm:"\u6A21\u578B\u80FD\u529B"}),dataIndex:"tags",key:"tags",render:function(l){return l?(0,e.jsx)("div",{className:u.capabilities,children:l.map(function(c,b){return(0,e.jsx)(ne.Z,{color:"mauve",children:B[c]},b)})}):null}},{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.enable",dm:"\u542F\u7528"}),dataIndex:"enable",key:"enable",render:function(l,c){return(0,e.jsx)(_.Z,{checked:l,onChange:function(m){return he(v()(v()({},c),{},{enable:m}))}})}},{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.operation",dm:"\u64CD\u4F5C"}),key:"action",render:function(l,c){var b=c.source==="preset";return(0,e.jsxs)("div",{className:u["action-buttons"],children:[(0,e.jsx)("a",{onClick:function(){return Ne(c)},children:i.Z.get({id:"main.pages.Setting.ModelService.Detail.setting",dm:"\u8BBE\u7F6E"})}),(0,e.jsx)("a",{className:b?u.disabled:"",onClick:function(){return Oe(c)},children:i.Z.get({id:"main.pages.Setting.ModelService.Detail.delete",dm:"\u5220\u9664"})})]})}}],Ne=function(l){Y(l),A(!0)},Oe=function(l){w.Z.warning({title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.deleteModel",dm:"\u5220\u9664\u6A21\u578B"}),children:i.Z.get({id:"main.pages.Setting.ModelService.Detail.confirmDeleteModel",dm:"\u786E\u5B9A\u8981\u5220\u9664\u6A21\u578B{var1}\u5417\uFF1F\u6B64\u64CD\u4F5C\u4E0D\u53EF\u6062\u590D\u3002"},{var1:l.name}),onOk:function(){if(!l.model_id){y.Z.error(i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelIdNotExist",dm:"\u6A21\u578BID\u4E0D\u5B58\u5728"}));return}if(!r){y.Z.error(i.Z.get({id:"main.pages.Setting.ModelService.Detail.providerIdNotExist",dm:"\u63D0\u4F9B\u5546ID\u4E0D\u5B58\u5728"}));return}(0,D.$s)(r,l.model_id).then(function(b){b&&(y.Z.success(i.Z.get({id:"main.pages.Setting.ModelService.Detail.deleteModelSuccess",dm:"\u5220\u9664\u6A21\u578B\u6210\u529F"})),q())})}})},Ce=function(){Y(void 0),A(!0)},he=function(){var f=G()(C()().mark(function l(c){var b,m;return C()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r){S.next=3;break}return y.Z.error(i.Z.get({id:"main.pages.Setting.ModelService.Detail.providerIdNotExist",dm:"\u63D0\u4F9B\u5546ID\u4E0D\u5B58\u5728"})),S.abrupt("return");case 3:return b=v()(v()({},c),{},{name:c.name}),S.next=6,(0,D.QB)(r,c.model_id,b);case 6:m=S.sent,m&&(y.Z.success(i.Z.get({id:"main.pages.Setting.ModelService.Detail.updateModelSuccess",dm:"\u66F4\u65B0\u6A21\u578B\u6210\u529F"})),A(!1),q());case 8:case"end":return S.stop()}},l)}));return function(c){return f.apply(this,arguments)}}(),Ie=function(){var f=G()(C()().mark(function l(c){var b,m;return C()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(r){S.next=3;break}return y.Z.error(i.Z.get({id:"main.pages.Setting.ModelService.Detail.providerIdNotExist",dm:"\u63D0\u4F9B\u5546ID\u4E0D\u5B58\u5728"})),S.abrupt("return");case 3:return b=v()(v()({},c),{},{name:c.name}),S.next=6,(0,D.NY)(r,b);case 6:m=S.sent,m&&(y.Z.success(i.Z.get({id:"main.pages.Setting.ModelService.Detail.addModelSuccess",dm:"\u6DFB\u52A0\u6A21\u578B\u6210\u529F"})),A(!1),q());case 8:case"end":return S.stop()}},l)}));return function(c){return f.apply(this,arguments)}}(),De=function(){var f=G()(C()().mark(function l(c){return C()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:if(r){m.next=3;break}return y.Z.error(i.Z.get({id:"main.pages.Setting.ModelService.Detail.providerIdNotExist",dm:"\u63D0\u4F9B\u5546ID\u4E0D\u5B58\u5728"})),m.abrupt("return");case 3:if(!O){m.next=8;break}return m.next=6,he(v()(v()({},O),c));case 6:m.next=10;break;case 8:return m.next=10,Ie(c);case 10:case"end":return m.stop()}},l)}));return function(c){return f.apply(this,arguments)}}();return ve?(0,e.jsx)(V.Z,{breadcrumbLinks:[{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelServiceManagement",dm:"\u6A21\u578B\u670D\u52A1\u7BA1\u7406"}),path:"/setting/modelService"},{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelServiceDetail",dm:"\u6A21\u578B\u670D\u52A1\u8BE6\u60C5"})}],children:(0,e.jsx)("div",{className:u.container,children:(0,e.jsx)(ae.Z,{spinning:ve,size:"large",tip:i.Z.get({id:"main.pages.Setting.ModelService.Detail.loading",dm:"\u52A0\u8F7D\u4E2D..."}),children:(0,e.jsx)("div",{style:{minHeight:"400px"}})})})}):(0,e.jsxs)(V.Z,{breadcrumbLinks:[{title:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelServiceManagement",dm:"\u6A21\u578B\u670D\u52A1\u7BA1\u7406"}),path:"/setting/modelService"},{title:(s==null?void 0:s.name)||i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelServiceDetail",dm:"\u6A21\u578B\u670D\u52A1\u8BE6\u60C5"})}],loading:je,children:[(0,e.jsxs)("div",{className:u.container,children:[(0,e.jsxs)("div",{className:u.info,children:[(0,e.jsx)("div",{className:u.title,children:i.Z.get({id:"main.pages.Setting.ModelService.Detail.serviceConfiguration",dm:"\u670D\u52A1\u914D\u7F6E"})}),(0,e.jsx)(se,{provider:s,providerId:r||"",onRefresh:Se})]}),(0,e.jsxs)("div",{className:u["table-container"],children:[(0,e.jsxs)("div",{className:u["table-header"],children:[(0,e.jsxs)("div",{className:u["table-title"],children:[(0,e.jsx)("span",{children:i.Z.get({id:"main.pages.Setting.ModelService.Detail.modelConfiguration",dm:"\u6A21\u578B\u914D\u7F6E"})}),(0,e.jsxs)("span",{className:u.count,children:["\uFF08",X.length,i.Z.get({id:"main.pages.Setting.ModelService.Detail.models",dm:"\u4E2A\u6A21\u578B"}),"\uFF09"]})]}),(0,e.jsx)(F.Z,{type:"link",onClick:Ce,children:i.Z.get({id:"main.pages.Setting.ModelService.Detail.addModel",dm:"\u65B0\u589E\u6A21\u578B"})})]}),X.length>0?(0,e.jsx)(oe.Z,{columns:Pe,dataSource:X,rowKey:"model_id",pagination:!1,className:u.table}):(0,e.jsx)(re.Z,{description:i.Z.get({id:"main.pages.Setting.ModelService.Detail.noModel",dm:"\u6682\u65E0\u6A21\u578B"})})]})]}),(0,e.jsx)($,{open:N,onCancel:function(){return A(!1)},onOk:De,model:O})]})},Me=ye}}]);

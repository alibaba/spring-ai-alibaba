(self.webpackChunk_ice_lite_scaffold=self.webpackChunk_ice_lite_scaffold||[]).push([[730],{7318:function(e){e.exports={container:"container--ozeKUykS","message-loading":"message-loading--tf6KXdKv"}},9550:function(e,t,n){"use strict";n.r(t);var i=n(1010),o=n(8975),a=n(8188),s=n(7582),l=n(9291),r=n(7294),p=n(9607),u=n(476),m=n(7647),c=n(3865),f=n(3981),d=n(4898),h=n(7318),g=n.n(h),_=n(5930),y=(0,r.memo)(function(e){var t,n=e.modelData,h=e.modelType,y=(0,m.UO)(),C=(0,a._)((0,r.useState)({initialChatConfig:{model:"qwen-plus",temperature:.85,top_p:.8,seed:1,enable_search:!1,top_k:0,stop:[],incremental_output:!1,repetition_penalty:1.1,tools:[]},initialImgConfig:{model:"wanx-v1",responseFormat:"",n:1,size:"1024*1024",style:"<auto>",seed:0,ref_img:"",ref_strength:0,ref_mode:"",negative_prompt:""},initialTool:{}}),2),O=C[0],T=C[1],Z=(0,a._)((0,r.useState)(),2),k=Z[0],v=Z[1],b=(0,a._)((0,r.useState)(""),2),I=b[0],w=b[1];return(0,r.useEffect)(function(){0!==Object.keys(y).length&&y.model_name==n.name&&(null!=n&&null!=n.chatOptions&&delete n.chatOptions.proxyToolCalls,T(function(e){return{initialChatConfig:(0,o._)({},n.chatOptions),initialImgConfig:(0,o._)({},n.imageOptions),initialTool:{}}}),n.modelType==c.B.CHAT?v(n.chatOptions):n.modelType==c.B.IMAGE&&v(n.imageOptions))},[n]),n?(0,l.BX)(p.Z,{justify:"space-between",style:{height:"100%"},children:[(0,l.tZ)(f.Z,{modelData:n,modelType:h,modelOptions:k,onRun:(t=(0,i._)(function(e){var t,i;return(0,s.Jh)(this,function(o){switch(o.label){case 0:if(h!==c.B.CHAT)return[3,2];return[4,_.Z.postChatModel({input:e.input,chatOptions:k,stream:e.stream,key:n.name,prompt:I})];case 1:return i=o.sent(),[3,4];case 2:if(h!==c.B.IMAGE)return[3,4];return[4,_.Z.postImageModel({input:e.input,imageOptions:k,key:n.name,prompt:I})];case 3:i=o.sent(),o.label=4;case 4:return[2,{result:i?e.stream?null===(t=i.result.streamResponse)||void 0===t?void 0:t.join("\n"):i.result.response:"\u8BF7\u6C42\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5",telemetry:{traceId:i?i.telemetry.traceId:""}}]}})}),function(e){return t.apply(this,arguments)})}),(0,l.tZ)(d.Z,{tabs:["config","prompt"],modelType:n.modelType,initialValues:O,onChangeConfig:function(e){v(e)},onChangePrompt:function(e){w(e)}})]}):(0,l.tZ)("div",{className:g().container,children:(0,l.tZ)(u.Z,{})})});t.default=y}}]);
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JTaskPilot - ç®¡ç†ç•Œé¢</title>
    <!-- å¼•å…¥æ¨¡å—åŒ–CSSæ–‡ä»¶ -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/layout.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/forms.css">
    <link rel="stylesheet" href="css/agent.css">
    <link rel="stylesheet" href="css/dialog.css">
    <!-- æ·»åŠ ä¸ä¸»é¡µä¸€è‡´çš„å›¾æ ‡æ ·å¼ -->
    <style>
        /* Simple icons for demo */
        .icon-placeholder::before { content: "â–¡"; display: inline-block; margin-right: 5px; }
        .icon-collapse-left::before { content: "â—€"; display: inline-block; }
        .icon-expand-left::before { content: "â–¶"; display: inline-block; }
        .icon-collapse-right::before { content: "â–¶"; display: inline-block; }
        .icon-expand-right::before { content: "â—€"; display: inline-block; }
        .icon-terminal::before { content: ">_"; display: inline-block; }
        .icon-play::before { content: "â–º"; display: inline-block; }
        .icon-realtime::before { content: "â—"; color: #1a73e8; display: inline-block; }
        .icon-menu::before { content: "â‹®"; display: inline-block; }
        .icon-share::before { content: "â†‘"; display: inline-block; }
        .icon-star-outline::before { content: "â˜†"; display: inline-block; }
        .icon-star-filled::before { content: "â˜…"; display: inline-block; }
        .icon-lightbulb::before { content: "ğŸ’¡"; display: inline-block; }
        .icon-attach::before { content: "ğŸ“"; display: inline-block; }
        .icon-send::before { content: "â†‘"; display: inline-block; }
        .icon-add::before { content: "+"; display: inline-block; }
        .icon-folder::before { content:"ğŸ“"; display: inline-block; }
        .icon-pages::before { content:"ğŸ“„"; display: inline-block; }
        .icon-down-arrow::before { content: "â–¼"; display: inline-block; }
        .icon-up-arrow::before { content: "â–²"; display: inline-block; }
        .icon-settings::before { content:"âš™ï¸"; display: inline-block; }
        .icon-agent::before { content:"ğŸ¤–"; display: inline-block; }
        .icon-tool::before { content:"ğŸ› ï¸"; display: inline-block; }
        .icon-mcp::before { content:"ğŸ”Œ"; display: inline-block; }
        .icon-back::before { content:"â¬…ï¸"; display: inline-block; }
        .icon-save::before { content:"ğŸ’¾"; display: inline-block; }
    </style>
</head>
<body>
    <div class="admin-container">
        <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
        <header class="admin-header">
            <div class="header-title">
                <h1>JTaskPilot ç®¡ç†æ§åˆ¶å°</h1>
            </div>
            <div class="header-actions">
                <button class="action-btn" id="backToMainBtn"><span class="icon-back"></span> è¿”å›ä¸»é¡µ</button>
            </div>
        </header>

        <!-- ä¸»ä½“å†…å®¹åŒºåŸŸ - å·¦å³ç»“æ„ -->
        <div class="admin-content">
            <!-- å·¦ä¾§é…ç½®ç±»åˆ«åˆ—è¡¨ -->
            <nav class="config-categories">
                <ul>
                    <li class="category-item active" data-category="basic">
                        <span class="icon-settings"></span>
                        <span class="category-label">åŸºç¡€é…ç½®</span>
                    </li>
                    <li class="category-item" data-category="agent">
                        <span class="icon-agent"></span>
                        <span class="category-label">Agenté…ç½®</span>
                    </li>
                    <li class="category-item" data-category="tool">
                        <span class="icon-tool"></span>
                        <span class="category-label">Toolé…ç½®(coming soonï¼‰</span>
                    </li>
                    <li class="category-item" data-category="mcp">
                        <span class="icon-mcp"></span>
                        <span class="category-label">MCPé…ç½®(coming soonï¼‰</span>
                    </li>
                </ul>
            </nav>

            <!-- ä¸­é—´åˆ†å‰²çº¿ -->
            <div class="content-divider"></div>

            <!-- å³ä¾§é…ç½®è¯¦æƒ…åŒºåŸŸ -->
            <div class="config-details">
                <!-- åŸºç¡€é…ç½®é¢æ¿ - é»˜è®¤æ˜¾ç¤º -->
                <div class="config-panel active" id="basic-config">
                    <h2 class="panel-title">åŸºç¡€é…ç½®</h2>
                    
                    <div class="config-group">
                        <h3 class="group-title">ç³»ç»Ÿè®¾ç½®</h3>
                        <div class="config-item">
                            <label for="system-name">ç³»ç»Ÿåç§°</label>
                            <input type="text" id="system-name" value="JTaskPilot">
                        </div>
                        <div class="config-item">
                            <label for="system-language">é»˜è®¤è¯­è¨€</label>
                            <select id="system-language">
                                <option value="zh-CN">ä¸­æ–‡ (ç®€ä½“)</option>
                                <option value="en-US">English</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="config-group">
                        <h3 class="group-title">æ€§èƒ½è®¾ç½®</h3>
                        <div class="config-item">
                            <label for="max-threads">æœ€å¤§çº¿ç¨‹æ•°</label>
                            <input type="number" id="max-threads" min="1" max="32" value="8">
                        </div>
                        <div class="config-item">
                            <label for="timeout-seconds">è¯·æ±‚è¶…æ—¶æ—¶é—´(ç§’)</label>
                            <input type="number" id="timeout-seconds" min="5" max="300" value="60">
                        </div>
                    </div>
                </div>

                <!-- Agenté…ç½®é¢æ¿ - åˆå§‹éšè— -->
                <div class="config-panel" id="agent-config">
                    <div class="panel-header">
                        <h2 class="panel-title">Agenté…ç½®</h2>
                        <div class="panel-actions">
                            <button class="action-btn import-agents-btn" title="å¯¼å…¥Agenté…ç½®">
                                <span class="icon-attach"></span>
                                å¯¼å…¥
                            </button>
                            <button class="action-btn export-agents-btn" title="å¯¼å‡ºAgenté…ç½®">
                                <span class="icon-share"></span>
                                å¯¼å‡º
                            </button>
                        </div>
                    </div>
                    
                    <div class="agent-layout">
                        <!-- å·¦ä¾§Agentåˆ—è¡¨ -->
                        <div class="agent-list">
                            <div class="agent-list-container">
                                <!-- ç¤ºä¾‹Agenté¡¹ -->
                                <div class="agent-item">
                                    <div class="agent-item-header">
                                        <span class="agent-name">é€šç”¨åŠ©æ‰‹</span>
                                        <button class="expand-btn"><span class="icon-play"></span></button>
                                    </div>
                                    <div class="agent-item-content">
                                        <div class="agent-desc">è¿™æ˜¯ä¸€ä¸ªé€šç”¨çš„æ™ºèƒ½åŠ©æ‰‹ï¼Œå¯ä»¥å›ç­”é—®é¢˜å’Œæ‰§è¡Œå¤šç§ä»»åŠ¡ï¼Œå…·æœ‰è‰¯å¥½çš„é€šç”¨èƒ½åŠ›...</div>
                                        <div class="agent-tools">
                                            <span class="tool-tag">search</span>
                                            <span class="tool-tag">calculator</span>
                                            <span class="tool-tag">weather</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="agent-item">
                                    <div class="agent-item-header">
                                        <span class="agent-name">ç¼–ç¨‹ä¸“å®¶</span>
                                        <button class="expand-btn"><span class="icon-play"></span></button>
                                    </div>
                                    <div class="agent-item-content">
                                        <div class="agent-desc">ä¸“æ³¨äºè§£å†³ç¼–ç¨‹ç›¸å…³é—®é¢˜çš„AIåŠ©æ‰‹ï¼Œç†Ÿæ‚‰å¤šç§ç¼–ç¨‹è¯­è¨€å’Œæ¡†æ¶ï¼Œå¯ä»¥æä¾›ä»£ç åˆ†æ...</div>
                                        <div class="agent-tools">
                                            <span class="tool-tag">code_analysis</span>
                                            <span class="tool-tag">git</span>
                                            <span class="tool-tag">docker</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="agent-item">
                                    <div class="agent-item-header">
                                        <span class="agent-name">æ–‡ä»¶ç®¡ç†å™¨</span>
                                        <button class="expand-btn"><span class="icon-play"></span></button>
                                    </div>
                                    <div class="agent-item-content">
                                        <div class="agent-desc">ä¸“é—¨ç”¨äºæ–‡ä»¶ç®¡ç†å’Œæ“ä½œçš„æ™ºèƒ½ä½“ï¼Œå¯ä»¥è¿›è¡Œæ–‡ä»¶è¯»å†™ã€å¤åˆ¶ã€ç§»åŠ¨ç­‰æ“ä½œ...</div>
                                        <div class="agent-tools">
                                            <span class="tool-tag">file_read</span>
                                            <span class="tool-tag">file_write</span>
                                            <span class="tool-tag">file_search</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- æ·»åŠ æ–°AgentæŒ‰é’® -->
                            <div class="add-agent-container">
                                <button class="add-agent-btn">
                                    <span class="icon-add"></span>
                                    æ–°å»ºAgent
                                </button>
                            </div>
                        </div>
                        
                        <!-- å³ä¾§Agentè¯¦æƒ… -->
                        <div class="agent-detail">
                            <div class="detail-section">
                                <label for="agent-detail-name">Agentåç§°</label>
                                <input type="text" id="agent-detail-name" class="detail-input" placeholder="è¾“å…¥Agentåç§°">
                            </div>
                            
                            <div class="detail-section">
                                <label for="agent-detail-desc">æè¿°</label>
                                <textarea id="agent-detail-desc" class="detail-input" rows="3" placeholder="æè¿°è¿™ä¸ªAgentçš„åŠŸèƒ½å’Œç”¨é€”"></textarea>
                            </div>
                            
                            <div class="detail-section">
                                <label for="agent-think-prompt">æ€è€ƒæç¤ºè¯ï¼ˆæŒ‡å¯¼æ¨¡å‹å¦‚ä½•åˆ†æå½“å‰stepçš„ä»»åŠ¡å¹¶åˆ†è§£ï¼‰</label>
                                <textarea id="agent-think-prompt" class="detail-input" rows="6" placeholder="è®¾ç½®Agentæ€è€ƒæ—¶çš„æç¤ºè¯"></textarea>
                            </div>
                            
                            <div class="detail-section">
                                <label for="agent-next-prompt">å·¥å…·æç¤ºè¯ï¼ˆæŒ‡å¯¼æ¨¡å‹å¦‚ä½•æ›´å¥½çš„ä½¿ç”¨å·¥å…·ï¼‰</label>
                                <textarea id="agent-next-prompt" class="detail-input" rows="6" placeholder="è®¾ç½®Agentæ‰§è¡Œä»»åŠ¡æ—¶çš„æç¤ºè¯"></textarea>
                            </div>
                            
                            <div class="detail-section">
                                <div class="detail-header">
                                    <label>å·¥å…·è°ƒç”¨åˆ—è¡¨</label>
                                </div>
                                <div class="tool-list">
                                    <div class="tool-item">
                                        <span class="tool-name">searchï¼ˆdemo)</span>
                                        <button class="delete-tool-btn">Ã—</button>
                                    </div>
                                    <div class="tool-item">
                                        <span class="tool-name">calculator(demo)</span>
                                        <button class="delete-tool-btn">Ã—</button>
                                    </div>
                                    <div class="tool-item">
                                        <span class="tool-name">weather(demo)</span>
                                        <button class="delete-tool-btn">Ã—</button>
                                    </div>
                                </div>
                                <button class="add-tool-btn">
                                    <span class="icon-add"></span>
                                    æ·»åŠ å·¥å…·
                                </button>
                            </div>
                            
                            <div class="detail-actions">
                                <button class="action-btn save-agent-btn">
                                    <span class="icon-save"></span>
                                    ä¿å­˜Agent
                                </button>
                                <button class="action-btn delete-agent-btn">
                                    <span class="icon-delete"></span>
                                    åˆ é™¤Agent
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Toolé…ç½®é¢æ¿ - åˆå§‹éšè— -->
                <div class="config-panel" id="tool-config">
                    <h2 class="panel-title">Toolé…ç½®(coming soon)</h2>
                    
                    <div class="config-group">
                        <h3 class="group-title">å·¥å…·å¯ç”¨è®¾ç½®</h3>
                        <div class="config-item checkbox-item">
                            <input type="checkbox" id="enable-search-tool" checked>
                            <label for="enable-search-tool">å¯ç”¨æœç´¢å·¥å…·</label>
                        </div>
                        <div class="config-item checkbox-item">
                            <input type="checkbox" id="enable-calculator-tool" checked>
                            <label for="enable-calculator-tool">å¯ç”¨è®¡ç®—å™¨å·¥å…·</label>
                        </div>
                        <div class="config-item checkbox-item">
                            <input type="checkbox" id="enable-weather-tool">
                            <label for="enable-weather-tool">å¯ç”¨å¤©æ°”å·¥å…·</label>
                        </div>
                    </div>
                    
                    <div class="config-group">
                        <h3 class="group-title">APIé…ç½®</h3>
                        <div class="config-item">
                            <label for="weather-api-key">å¤©æ°”APIå¯†é’¥</label>
                            <input type="text" id="weather-api-key" placeholder="è¾“å…¥APIå¯†é’¥">
                        </div>
                        <div class="config-item">
                            <button class="secondary-btn" id="test-weather-api">æµ‹è¯•è¿æ¥</button>
                        </div>
                    </div>
                </div>

                <!-- MCPé…ç½®é¢æ¿ - åˆå§‹éšè— -->
                <div class="config-panel" id="mcp-config">
                    <h2 class="panel-title">MCPé…ç½®(coming soon)</h2>
                    
                    <div class="config-group">
                        <h3 class="group-title">MCPè¿æ¥è®¾ç½®</h3>
                        <div class="config-item">
                            <label for="mcp-endpoint">MCPæœåŠ¡ç«¯ç‚¹</label>
                            <input type="text" id="mcp-endpoint" value="http://localhost:8080/mcp">
                        </div>
                        <div class="config-item">
                            <label for="mcp-version">MCPåè®®ç‰ˆæœ¬</label>
                            <select id="mcp-version">
                                <option value="1.0">1.0</option>
                                <option value="1.1">1.1</option>
                                <option value="1.2" selected>1.2</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="config-group">
                        <h3 class="group-title">æ¨¡å‹é…ç½®</h3>
                        <div class="config-item">
                            <label for="default-model">é»˜è®¤LLMæ¨¡å‹</label>
                            <select id="default-model">
                                <option value="qwen-max">é€šä¹‰åƒé—® Max</option>
                                <option value="qwen-plus">é€šä¹‰åƒé—® Plus</option>
                                <option value="qwen-turbo">é€šä¹‰åƒé—® Turbo</option>
                                <option value="custom">è‡ªå®šä¹‰</option>
                            </select>
                        </div>
                        <div class="config-item">
                            <label for="custom-model-url">è‡ªå®šä¹‰æ¨¡å‹URL</label>
                            <input type="text" id="custom-model-url" placeholder="è¾“å…¥æ¨¡å‹URL">
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- å·¥å…·é€‰æ‹©å¯¹è¯æ¡† -->
    <div class="tool-selection-dialog" style="display: none;">
        <div class="dialog-header">
            <h3>é€‰æ‹©å·¥å…·</h3>
            <input type="text" class="tool-search" placeholder="æœç´¢å·¥å…·...">
        </div>
        <div class="tool-list-container">
            <!-- å·¥å…·åˆ—è¡¨é¡¹å°†ç”±JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
        <div class="dialog-footer">
            <button class="cancel-btn">å–æ¶ˆ</button>
            <button class="confirm-btn">ç¡®è®¤</button>
        </div>
    </div>
    <!-- å¼•å…¥æ¨¡å—åŒ–JavaScriptæ–‡ä»¶ -->
    <script type="module" src="admin-core.js"></script>
    <script type="module" src="admin-events.js"></script>
    <script type="module" src="admin-ui.js"></script>
    <script type="module" src="admin-utils.js"></script>
    <script type="module" src="config-model.js"></script>
    <script type="module" src="admin-api.js"></script>
</body>
</html>
